\documentclass[12pt]{article}
\usepackage{enumerate}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{color}
\usepackage{mathrsfs}
\usepackage{fullpage}
\usepackage{commath}
\usepackage{graphicx}
\usepackage{pdfcomment}
%\usepackage{coffee4}
\usepackage{lipsum}
\usepackage{showkeys}
\usepackage{algorithmicx}
\usepackage{algpseudocode}
\usepackage{verbatim}
\usepackage{longtable}
\usepackage{etoolbox}

%General Shorthand Macros
\newcommand{\skipLine}{\vspace{12pt}}
\newcommand{\mb}{\mathbb}
\newcommand{\mc}{\mathcal}
\newcommand{\ms}{\mathscr}
\newcommand{\ra}{\rightarrow}
\newcommand{\ov}{\overline}
\newcommand{\os}{\overset}
\newcommand{\un}{\underline}
\newcommand{\te}{\text}
\newcommand{\ep}{\epsilon}
\newcommand{\tr}{\textcolor{red}}
\newcommand{\tb}{\textcolor{blue}}
\newcommand{\tg}{\textcolor{green}}
\newcommand{\labe}[1]{\tr{\texttt{Label: #1}}}
\newcommand{\tbs}{\textbackslash}
\newcommand{\purpose}{\textbf{Purpose: }}
\newcommand{\pfsum}{\textbf{Proof Summary: }}
\newcommand{\usein}{\textbf{Used in: }}
\newcommand{\app}{\textbf{Applies: }}
\newcommand{\remark}{\textbf{Remark: }}
\newcommand{\ind}{\hspace{24pt}}
\newcommand{\lin}{\rule{\linewidth}{0.4 pt}}
\newcommand{\pr}{\mb{P}}							%probability
\newcommand{\ex}[1]{\mb{E}\left[#1\right]}			%expectation
\newcommand{\exmu}[2]{\mb{E}^{#1}\left[#2\right]}	%exp wrt a measure
\newcommand{\deq}{\overset{\text{(d)}}{=}}			%equal in dist
\newcommand{\defeq}{:=}								%definition equal
\newcommand{\msr}{\mc{M}}							%space of measures
\newcommand{\pmsr}{\mc{P}}							%space of pmsrs
\newcommand{\cad}{\mc{D}}							%Cadlag space
\newcommand{\argmin}{\te{arg}\min}


%Notation and Basic Assumptions
%Graph Notation
%Base Commands
\newcommand{\sta}{\mc{X}}							%state space
\newcommand{\neigh}[1]{\mc{N}_{#1}}					%neighborhood
\newcommand{\dneigh}[1]{\mc{N}^2_{#1}}				%double neigh
\newcommand{\tneigh}[1]{\mc{N}^3_{#1}}				%double neigh
\newcommand{\gneigh}[2]{\mc{N}^{#1}_{#2}}			%neighborhood w G
\newcommand{\dgneigh}[2]{\mc{N}^{2,#1}_{#2}}		%double neigh w G
\newcommand{\tgneigh}[2]{\mc{N}^{3,#1}_{#2}}		%double neigh w G
\newcommand{\bdry}[1]{\partial_{#1}}				%bdry
\newcommand{\gbdry}[2]{\partial^{#1}_{#2}}			%G bdry
\newcommand{\cl}[1]{\ov{#1}}						%graph closure
\renewcommand{\root}{\mathbf{0}}					%root

%Modifiers
\newcommand{\stb}[1]{_{#1}}							%add base of \st
\newcommand{\indx}[1]{^{#1}}						%sublimit index
\newcommand{\subg}[1]{_{#1}}						%subgraph


%Process Notation
%Base Commands
\newcommand{\Xf}{X}									%Full process
\newcommand{\poiss}{N}								%Poisson process
\newcommand{\leb}{\lambda}							%Lebesgue msr
\newcommand{\Sm}{\ell}								%ctng msr on sta
\newcommand{\rate}{r}								%jump rate
\newcommand{\F}{\mc{F}}								%filtrations
\newcommand{\m}{\mu}								%law of \Xf
\newcommand{\proj}{\pi}								%projection
\newcommand{\utmet}[1]{
\ifstrempty{#1}{
	d_{\te{U}}}{
	d_{\te{U},#1}}}									%uniform metric
\newcommand{\stmet}[1]{
\ifstrempty{#1}{
	d_{\te{S}}}{
	d_{\te{S},#1}}}									%skorokhod metric
\newcommand{\xf}{x}									%x input
\newcommand{\xg}{y}									%y input
\newcommand{\xh}{z}									%z input
\newcommand{\xj}{t}									%t input
\newcommand{\met}[2]{
\ifstrempty{#2}{
	d_{#1}}{
	d_{#1,#2}}}										%gen metric
\newcommand{\bor}{\mc{B}}							%borel
\newcommand{\poisses}{\mathbf{N}}					%poisson family
\newcommand{\delt}{\triangle}						%jump size
\newcommand{\dpoiss}{\omega}						%nonrandom pt pro

%Modifiers
\newcommand{\poissv}[1]{_{#1}}						%v comp of Poisson
\newcommand{\poisso}[1]{^{#1}}						%Other P modifier
\newcommand{\vind}[1]{_{#1}}						%v component
\newcommand{\tme}[1]{(#1)}							%time
\newcommand{\tmi}[1]{#1}							%time interval
\newcommand{\gind}[1]{^{#1}}						%interaction net
\newcommand{\vpara}[1]{^{#1}}						%vertex param
\newcommand{\stpara}[1]{_{#1}}						%state parameter	
\newcommand{\tpara}[1]{_{#1}}						%time parameter
\newcommand{\gvpara}[2]{^{#1,#2}}					%G and v params
\newcommand{\psf}{_*}								%push forward
\newcommand{\tparapsf}[1]{_{#1,*}}					%psf t param
\newcommand{\vpropara}[2]{^{#1,#2}}					%v and process



%Simultaneous Jumps
\newcommand{\Jmps}{\mc{J}}							%set of jumps


%Assumptions
%Base Commands
\newcommand{\psize}{\ell}							%Branching size
\newcommand{\rateset}{\mathbf{\rate}}				%set of rates
\newcommand{\jumpbd}[1]{C_{#1}}						%jump bound
\newcommand{\jumpibd}[2]{C_{#1,#2}}					%jump bds fix i
\newcommand{\Gs}{\mc{G}_\ast}						%graphs
%Modifiers
\newcommand{\tmepro}[3]{
\ifstrempty{#3}{
	(#1,#2)}{
	(#1,#2,#3)}}									%time, process


%Well-Posedness
%Base Commands
\newcommand{\compen}{a}								%compensator
\newcommand{\compenbd}{\ov{a}}						%comp max
\newcommand{\Xfjmp}{\ov{\poiss}}					%X-jump process
\newcommand{\apppoiss}{\ov{\ov{\poiss}}}			%append poisson
\newcommand{\tmepoiss}{\alt{\poiss}}				%timechange poiss

%Modifiers
\newcommand{\poissst}[1]{_{#1}}						%poisson state
\newcommand{\poissvst}[2]{_{#1,#2}}					%poisson v,state
\newcommand{\binver}[1]{(#1)^{-1}}					%inverse

%Local Weak Convergence
%Base Commands
\newcommand{\iso}{I}								%isomorphism set
\newcommand{\trnc}[1]{B_{#1}}						%Truncated graph
\newcommand{\spce}{\mc{Y}}							%space
\newcommand{\unifvar}{U}							%uniform rv
\newcommand{\cumrate}{\ov{r}}						%cumul rate over i
\newcommand{\ptsnum}{n}								%num Pssn pts

%Modifiers
\renewcommand{\sp}[1]{[#1]}							%include space
\newcommand{\dit}[2]{_{#1,#2}}						%double iter
\newcommand{\vindit}[2]{_{#1,#2}}					%\vind + \it

%CI
\newcommand{\seto}{U}								%1st set in CI
\newcommand{\sett}{W}								%2nd set in CI
\newcommand{\setc}{R}								%set condition CI

%Proof
\newcommand{\mutex}{\|}								%mutually exclsve
\newcommand{\rtt}{\theta}							%2nd stopping time
\newcommand{\apath}{\Gamma}						%path for CI proof
\newcommand{\pathset}[2]{\Lambda_{#1,#2}}		%A space of paths
\newcommand{\evnt}{\mc{E}}						%Typical event
\newcommand{\rv}{A}								%Typical rand elt
\newcommand{\indo}{n}							%index of \rt
\newcommand{\indt}{m}							%index of \rtt

%Statement
%Base Commands
\newcommand{\Xg}{Y}									%Alt proc rep
\newcommand{\brate}{\alt{\rate}}					%local rt at bdry

%Modifications
\newcommand{\inte}[1]{{#1}^\mathrm{o}}				%interior
\newcommand{\alt}[1]{\tilde{#1}}					%alternate

%Existence
%Base commands
\newcommand{\pmap}{\Lambda}							%Mk chain to PP
\newcommand{\rt}{\tau}								%PP time
\renewcommand{\mark}{\kappa}						%PP mark
\newcommand{\ratee}{\Gamma}							%generic rate
\newcommand{\cratee}{\alt{\ratee}}					%gen cdtl rate
\newcommand{\rp}{P}									%generic PP
\newcommand{\mm}{\nu}								%gen msr
\newcommand{\law}{\te{Law}}							%law
\newcommand{\ev}[1]{\ep^{#1}}						%std basis

%Uniqueness
%Base Commands
\newcommand{\Xh}{Z}									%2nd alt proc
\newcommand{\crate}{\hat{\rate}}					%dneigh bdry rate
\newcommand{\bgrate}{\ov{\rate}}					%gen bdry rate
\newcommand{\bcrate}{\hat{\brate}}					%neigh bdry rate
\newcommand{\mmm}{\eta}								%std msr
\newcommand{\ds}{\Upsilon}							%Radon mapping
\newcommand{\dense}{L}								%density
\newcommand{\densen}{N}								%density of dneigh
\newcommand{\denseph}{\alt{N}}						%density of CUdneigh
\newcommand{\mdense}{M}								%marge density

%Modifications
\newcommand{\gvjpara}[3]{^{#1,#2,#3}}				%include branch
\newcommand{\prc}[1]{_{#1}}							%wrt a msr
\renewcommand{\it}[1]{_{#1}}						%iterator
\newcommand{\jpara}[1]{^{#1}}						%B_j dependence



%Appendix
\newcommand{\Xj}{T}								%4th variable
\newcommand{\typset}{A}							%typical set


%reassign later
%\newcommand{\arr}{\lambda}							%arrival rate
%\newcommand{\neighI}[1]{\partial^I_{#1}}			%int. neigh
%\newcommand{\IG}{\mc{L}}							%infinitesimal gen
%\newcommand{\para}[1]{^{#1}}
%\newcommand{\inter}[1]{#1^I}
%\newcommand{\uni}{m}
\renewcommand{\d}{\tattle}

\newtheorem{thms}{Theorem}[section]
\newtheorem{conj}[thms]{Conjecture}
\newtheorem{prop}[thms]{Proposition}
\newtheorem{coro}[thms]{Corollary}
\newtheorem{lem}[thms]{Lemma}
%\newtheorem{sublem}{Sublemma}[lem]
\newtheorem{defn}[thms]{Definition}
\newtheorem{assu}{Assumption}
\renewcommand{\theassu}{\Alph{assu}}
\newtheorem{example}[thms]{Example}

\setlength{\parindent}{0pt}

\begin{document}

\title{Foundations for the Local Equations (Working Title)}
\author{Ankan Ganguly}

\maketitle

\newpage

\tableofcontents

\newpage

\section{TODO}
\begin{enumerate}
\item \(\Sm\) is no longer the counting measure. Instead it's a positive probability measure on \(\sta\) (that is, for every \(i \in \sta\), \(\Sm(\{i\}) > 0\) and \(\Sm(\sta) = 1\)). Double check for any inconsistencies introduced by this change.

\item Consider asymmetric processes. Currently I'm leaning toward a theory of ordered rooted graphs and order preserving isomorphisms. This would allow me to introduce jump rates that depend on the neighbors in an asymmetric fashion. The theory (convergence and tightness requirements) shouldn't be too stringent either (hopefully). In this case, symmetric jump rates would be a special case in which all nodes are equal with respect to the ordering imposed on the graphs.
\end{enumerate}



\section{Notation and basic assumptions}
\label{not}

We consider an interacting particle system for which each node takes values in the countable state-space \(\sta = \mb{Z}\). Our goal is to understand the local evolution of a network whose nodes take values in \(\sta\) (\tb{This can be generalized to \(\sta \subsetneq \mb{Z}\) by placing letting the initial value of the process hit \(\mb{Z}\setminus \sta\) with probability 0 and transitioning to \(\mb{Z}\setminus \sta\) at rate 0 at all times}). Therefore, we represent the interaction network between nodes by a rooted graph \(G = (V,E,\root)\) in which \(\root \in V\) is a distinguishable vertex representing the node whose local evolution is of interest to us.

\subsection{Graph Notation}
\label{not::g}

A rooted graph \(G = (V,E,\root)\) is a vertex set, \(V\), the set of edges between the vertices, \(E\), and a distinguished vertex \(\root \in V\) that will be referred to as the root. When \(G\) is not clear from context, we may write \(V\gind{G}\) for the vertex set of \(G\), \(E\gind{G}\) for the edge set of \(G\) and \(\root\gind{G}\) for the root of \(G\). Given a specific rooted graph \(G\) and any vertex set \(\root \in U \subseteq V\), define \(G\subg{U} \defeq (U,E\cap U^2,\root)\). This is the maximal subgraph of \(G\) restricted to the vertices in \(U\). For any \(v \in V\), let \(\neigh{v}\subseteq V\) be the neighbors of \(v\) in \(g\). Let \(\cl{v} = \{v\}\cup\neigh{v}\). We also define the double neighborhood given by, \(\dneigh{v} = \cl{\neigh{v}}\setminus \{v\}\). The triple neighborhood will be \(\cl{\dneigh{v}} \setminus \{v\}\). These notions also extend to vertex set. If \(U\subseteq V\), then \(\neigh{U} = \{v \in V\setminus U: \exists u \in U\te{ s.t. } (u,v) \in E\}\). \(\cl{U} = U\cup \neigh{U}\). \(\dneigh{U} = \cl{\neigh{U}}\setminus U\). Similarly, \(\tneigh{U} = \dneigh{U} \cup \cl{\dneigh{U}}\setminus U\). When the graph we are working on is not clear from context, I may use \(\gneigh{G}{U}\), \(\dgneigh{G}{U}\) and \(\tgneigh{G}{U}\) to denote the neighborhood, double neighborhood and triple neighborhood of \(U\) with respect to \(G\). Let the boundary of \(U\) be denoted by \(\bdry{U} \defeq \{v \in U: \neigh{v}\cap U^c \neq \emptyset\}\). If \(G\) is not clear from context, we may use \(\gbdry{G}{U}\) instead.

\subsubsection{Local Weak Convergence}
\label{g::lwc}

Much of this section draws on the work of \cite{LacRamWu19}. \tr{Introduce marked edge rooted graphs. Assuming the mark space of the edges is finite, all results from \cite{LacRamWu19} follow directly in the following manner. Let \(\Gs^\mc{E}\) be the space of countable, connected, locally finite graphs with marked edges and mark space \(\mc{E}\). Let the mark space of the edges be \(\mc{E} = \{1,\dots,m\}\). We can describe the topology of the space the exact same way we do for \(\Gs\) in the section below, except isomorphisms must also preserve the marks of edges. Then we can continuously map \(G \in \Gs^\mc{E}\) to \(G' \in \Gs\) by replacing each edge with mark \(k\) with a \(k\)-tuple edge. This produces a homeomorphism between \(\Gs^\mc{E}\) and \(\Gs\) below.}

\tb{This won't work. The construction applies specifically to simple graphs. I suppose I'll have to renew the theory from scratch. The proofs should be nearly identical.}

\begin{defn}
\(\Gs\) is the set of countable, connected, locally finite rooted graphs up to rooted isomorphism (see definition \ref{lwc::riso}).
\label{lwc::gstar}
\end{defn}

All graphs considered in this paper are assumed to be members of \(\Gs\). Countability is required for obvious reasons. We are interested in local properties of processes on the graph. By restricting our attention to rooted graphs, we can apply the properties of the local topology on \(\Gs\). 

\ind \tr{Connectedness is not actually necessary for my results. For well-posedness, it suffices to prove that the process is well-defined on all components (reducing to the connected case). Local convergence automatically discounts everything except for the connected component on which the root appears, so we can assume everything is connected without loss of generality. The conditional independence property only holds if one of the sets considered is finite. Thus, on a disconnected graph, we only need to consider a finite number of components. This would allow us to consider each component separately. Similarly, the admissible set of the local approximation is finite, so once again, we can consider each connected component separately.}

\begin{defn}
Given two graphs \(G,G' \in \Gs\), an isomorphism is a bijection \(\phi: V\gind{G} \ra V\gind{G'}\) that satisfies \((\phi(u),\phi(v)) \in E\gind{G'}\) if and only if \((u,v) \in E\gind{G}\). \tr{In the general graph case I do use some isomorphisms that don't preserve the root, so I'm distinguishing them from rooted isomorphisms here.}
\label{lwc::iso}
\end{defn}

This notion can be extended to rooted graphs in the following manner:

\begin{defn}
A rooted isomorphism between two rooted graphs \(G\),\(G' \in \Gs\) is an isomorphism \(\phi\) such that \(\phi(\root\gind{G}) = \root\gind{G'}\).
\label{lwc::riso}
\end{defn}

As mentioned in definition \ref{lwc::gstar}, we assume two graphs in \(\Gs\) to be equivalent if there exists a rooted isomorphism between them. This is denoted by the notation \(G \cong G'\). The set of rooted isomorphisms between two graphs \(G\) and \(G'\) is given by \(\iso(G,G')\). If \(G\) and \(G'\) are not isomorphic, then \(\iso(G,G') = \emptyset\).

\begin{defn}
Let \(G \in \Gs\). For any \(k \in \mb{N}\), define \(\trnc{k}(G)\) to be the maximal rooted subgraph of \(G\) restricted to vertices \(v \in V\) such that \(\met{G}{}(v,\root) \leq k\). The vertex and edge sets of this subgraph will be denoted by \(\trnc{k}(V)\) and \(\trnc{k}(E)\) respectively.
\label{lwc::trnc}
\end{defn}

We can now define the notion of local convergence.

\begin{defn}
Let \(\{G\it{n},G:n\in\mb{N}\}\) be a sequence of graphs in \(\Gs\). Then \(G\it{k} \ra G\) locally if for every \(k \in \mb{N}\), there exists an \(n\it{k}\) such that \(\trnc{k}(G\it{n}) \cong \trnc{k}(G)\) for every \(n \geq n_k\).
\label{lwc::lc}
\end{defn}

To extend this notion of convergence to interacting particle system, we mark the vertices.

\skipLine

\tr{Consider marking edges too. This could be useful for asymmetric jump rates. Double check \cite{OliReiSto19} or its references for properties of this set.}

\begin{defn}
Let \(\spce\) be a Polish space with metric \(\met{\spce}{}\). Then \(\Gs\sp{\spce} = \{(G,\{\xg\vind{v}:v \in V\}): G \in \Gs, \xg\in \spce^V\}\) is the set of graphs with marked vertices.
\label{lwc::marked}
\end{defn}

\begin{defn}
Let \(\{(G\it{n},\xg\it{n}),(G,\xg)\}\) be a sequence of marked graphs in \(\Gs\sp{\spce}\). Then \((G\it{n},\xg\it{n}) \ra (G,\xg)\) locally if \(G\it{n} \ra G\) locally, and for every \(k \in \mb{N}\) and \(n\) sufficiently large, there exists a rooted isomorphism \(\phi\dit{n,k}:\trnc{k}(G\it{n}) \ra \trnc{k}(G)\) such that \(\lim_{n\ra\infty} \met{\spce}{}((\xg\it{n})\vind{\phi\dit{n}{k}(v)},\xg\vind{v}) = 0\) for all \(v \in \trnc{k}(V)\).
\label{lwc::mlc}
\end{defn}

Under the topology of local convergence, both \(\Gs\) and \(\Gs\sp{\spce}\) are a Polish spaces \cite[Lemmas A.2, A.3, and A.5]{LacRamWu19}.

\begin{defn}
Suppose \(\{\Xg\gind{G\it{n}}\vindit{v}{n}:n\in\mb{N},v \in V\gind{G\it{n}}\}\) is a sequence of \(\spce^{V\gind{G\it{n}}}\)-valued random elements. Suppose also that \(G\it{n} \ra G\) locally and \((G\it{n},\Xg\gind{G\it{n}}\it{n})\) converges to \((G,\Xg\gind{G})\) weakly with respect to convergence in \(\Gs\sp{\spce}\). Then we say that \((G\it{n},\Xg\gind{G\it{n}}\it{n})\) converges to \((G,\Xg\gind{G})\) locally weakly.
\label{lwc::lwc}
\end{defn}

\remark A necessary and sufficient condition to prove the local weak convergence of \((G\it{n},\Xg\gind{G\it{n}}\it{n})\) to \((G,\Xg\gind{G})\) is the existence of a sequence of (possibly random) rooted isomorphisms \(\phi_{n,k}: \trnc{k}(G) \ra \trnc{k}(G\it{n})\) such that \(\left((\Xg\gind{G\it{n}}\it{n})\vind{\phi_{n,k}(v)}\right)_{v\in \trnc{k}(G)} \Rightarrow \left(\Xg\gind{G}\vind{v}\right)_{v \in\trnc{k}(G)}\).

\skipLine

\remark This notion of weak convergence is valid for random graphs as well. In this case, if \(\{G\it{n},G:n\in\mb{N}\}\) is a sequence of random variables in \(\Gs\) such that \(G\it{n}\Rightarrow G\), then \((G\it{n},\Xg\gind{G\it{n}}\it{n})\) converges locally weakly to \((G,\Xg\gind{G})\) if it converges weakly with respect to the topology of \(\Gs\sp{\spce}\).

\subsection{Process Notation}
\label{not::p}

Fix a graph \(G = (V,E,\root)\). For any \(U \subseteq V\), let \(\cad\vpara{U} := \cad\left([0,\infty),\sta^U\right)\) be the set of \(\sta^U\)-valued c\`adl\`ag processes up to infinite time. Let \(\cad\vpara{U}\tpara{t} = \cad\left([0,t),\sta^U\right)\). Finally write \(\cad \defeq \cad([0,\infty),\sta)\). We impose the following norms and metrics:

\begin{itemize}
\item For \(\xf \in \cad\tpara{t}\), \(\|\xf\|\tpara{t} \defeq \sup_{0\leq s \leq t} \xf\tme{s}\). For \(\xf \in \cad\), \(\|\xf\| = \sum_{t=1}^\infty 2^{-1}(1\wedge \|\xf\|\tpara{t})\).

\skipLine

\remark We may write \(\|\xf\|_t\) for some \(\xf \in \cad\). This is shorthand notation for \(\|\xf\tmi{[0,t]}\|_t\). This holds true for all metrics on \(\cad\tpara{t}\) and \(\cad\vpara{U}\tpara{t}\).

\skipLine 

\item For \(\xf,\xg \in \cad\tpara{t}\), \(\utmet{t}(\xf,\xg) \defeq \|\xf-\xg\|\tpara{t}\). For \(\xf,\xg \in \cad\), \(\utmet{}(\xf,\xg) \defeq \|\xf - \xg\|\tpara{t}\).

\item For \(\xf,\xg \in \cad\tpara{t}\), \(\stmet{t}(\xf,\xg)  \defeq \inf_{\substack{f:[0,t]\ra[0,t]\\\te{cts}\\\te{str. increasing}}}\max\left\{\|\xf-\xg\circ f\|\tpara{t},\sup_{0<s<s'<t}\left|\ln \frac{f(s') -f(s)}{s-s'}\right|\right\}\).

The space of c\`agl\`ad functions is also complete with respect to the metric.

\item For \(\xf,\xg \in \cad\), \(\stmet{}(\xf,\xg) = \sum_{t=1}^\infty 2^{-t}(1\wedge \stmet{t}(\xf,\xg))\). \tr{This metric is not complete. In fact, convergence under this metric fails if the limiting function is discontinuous at \(t = k\) for any \(k \in \mb{N}\). Find a new metric.}

\item For \(U \subset V\), \(\xf,\xg\in \cad\vpara{U}\), \(\met{\ast}{}\vpara{U}(\xf,\xg) = \sum_{v \in U} 2^{-\phi_G(v)}(1\wedge \met{\ast}{}(\xf\vind{v},\xg\vind{v}))\), where \(\phi_G: V \ra \mb{N}\) is some arbitrarily fixed 1-to-1 mapping. Here \(\ast\) signifies our choice of metric on \(\cad\).
\end{itemize}

\ind In this context, define \(\Xf \in \cad\vpara{V}\). For any \(v \in V\) and \(t < \infty\), let \(\Xf\vind{v}\tme{t}\) be the value the \(v\)-component of \(\Xf\) at time \(t\). Given a set \(U\subset V\) and an interval \(I \subset \mb{R}^+\), let \(\Xf\vind{U}\tmi{I}\) denote the path taken by the \(U\)-components of \(\Xf\) over \(\tmi{I}\). For any \(t\in\mb{R}^+\), \(\delt \Xf\tme{t} = \Xf\tme{t} - \Xf\tme{t-}\). We denote the natural filtration of this process by \(\F\vpara{U}\tpara{t} \defeq \sigma \left(\Xf\vind{U}\tmi{[0,t]}\right)\). For clarity, this might be amended to \(\F\vpropara{U}{\Xf}\tpara{t}\). We will often be interested in the predictable sigma-algebra of the process given by \(\F\vpara{U}\tpara{t-} \defeq \bigvee_{s < t} \F\vpara{U}\tpara{s} = \sigma\left(\Xf\vind{U}\tmi{[0,t)}\right)\). Furthermore, when the evolution of \(\Xf\) with respect to its topology is clearly defined, but the specific interaction graph of \(\Xf\) is not clear from context, we may write \(\Xf\gind{G}\) to represent the process \(\Xf\) with interaction graph \(G\). Fix any \(v \in V,t \in \mb{R}^+\) and \(j \in \sta\). Then at time \(t\), we can define the jump rate \(\rate\stpara{j}\tmepro{t}{\Xf\vind{v}}{\Xf\vind{\gneigh{G}{v}}}\) to be the inverse of the expected time for \(\Xf\vind{v}\) to jump to \(\Xf\vind{v} + j\). We will assume without loss of generality that \(\rate\stpara{0}\equiv 0\). It now becomes clear how we can define the interaction graph. The interaction graph is any graph \(G\in \Gs\) such that \(\Xf\) is a \(\sta^{V\gind{G}}\)-valued process and \(\rate\stpara{j}\tmepro{t}{\Xf\vind{v}}{\Xf\vind{\gneigh{G}{v}}}\) is \(\F\vpara{\cl{v}}\tpara{t-}\)-measurable for every \(v \in V\),\(t\in \mb{R}^+\) and \(j \in \sta\). 

\ind For any Polish space \(\spce\), define

\[\spce^\sqcup = \bigcup_{i=0}^\infty \spce^i.\]

We will generally denote non-random elements of \(\spce^\sqcup\) by \(\dpoiss\). It will be assumed that \(\dpoiss\) has finitely many points in any bounded subset of \(\spce\) \tr{(should I note this elsewhere?)}. A point process, \(\poiss\), is a \(\spce^\sqcup\)-valued random element. For \(x \in \spce\), we say \(x \in \poiss\) if one of the components of \(\poiss\) is given by \(x\). We will also treat \(\poiss\) as a non-negative random integer valued measure on \(\spce\). The intensity measure of \(\poiss\) is some \(\mu\in \pmsr(\spce)\) such that \(\mu(\cdot) = \ex{\poiss(\cdot)}\). If \(\spce = [0,a]\times \spce'\) for \(a \in (0,\infty]\), then we call \(\poiss\) a marked point process with mark space \(\spce'\). If \(\spce'\) is equipped with a measure, that measure is called the representative measure of \(\spce'\). \(\dpoiss\it{n} \in \spce^\sqcup\) converges to \(\dpoiss\) if for all bounded and continuous \(f: \spce \ra \mb{R}\), \(\sum_{x \in \dpoiss\it{n}} f(x) \ra \sum_{x \in \dpoiss} f(x)\). Another way of thinking of this is that point processes are measures that converge with respect to vague convergence.

\ind We can rigorously define this in the following manner. Let \(\Sm\) be a positive probability measure on \(\sta\) with a finite first moment. Let \(\leb\) be the Lebesgue measure on \(\mb{R}^2\). Let \(\poisses \defeq \{\poiss\poissv{v}:v \in V\}\) be a sequence of i.i.d. Poisson point processes on \(\sta\times \mb{R}^2\) with intensity \(\Sm\times \leb\). Let \(\Xf\tme{0}\) be an \(\sta^V\)-valued random variable. Let \(\Xf\tme{0}\) be some given \(\sta^V\)-valued random variable. Assume \(\rate\stpara{j}(t)\) is \(\F\vpara{\cl{v}}\tpara{t-}\)-measurable for all \(v,j,t\) and that \(\rate\stpara{j}:\mb{R}^+ \ra\mb{R}^+\) is an almost surely Borel-Measurable function. Consider the following SDE:

\begin{equation}
\Xf\gind{G}\vind{v}\tme{t} = \Xf\gind{G}\vind{v}\tme{0} + \int_{\sta}\int_{(0,t]\times (0,\infty)} i\mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\Xf\gind{G}\vind{v}}{\Xf\gind{G}\vind{\gneigh{G}{v}}}} \poiss\poissv{v}\left(dr,ds,di\right) \te{ for } v\in V, t \geq 0
\label{p::Xf}
\end{equation}

Assuming there exists a unique in law solution to equation \eqref{p::Xf}, we define \(\Xf\gind{G}\) to be that solution. 

\ind Assume \(G\) is fixed. Let \(\m\) be the law of \(\Xf\) (again, if \(G\) is not clear from context, we will use the notation \(\m\gind{G}\)). For any \(U \subseteq V\), let \(\proj\vpara{U}(\Xf)\) map \(\Xf\) to an \(\sta^U\)-valued process defined by \((\proj\vpara{U}(\Xf))\vind{v} = \Xf\vind{v}\) for all \(v\in U\). Then the \(U\)-marginal of \(\m\) is given by the push-forward measure \(\proj\vpara{U}\psf(\m)\). I will often use the shorthand \(\m\vpara{U} \defeq \proj\psf\vpara{U}(\m)\). We may also be interested in restricting the process to some finite time interval \([0,T)\). In this case, we define \((\proj\vpara{U}\tpara{T}(\Xf))\vind{v}\tme{t} = \Xf\vind{v}\tme{t}\) for \(v \in U\) and \(t \in [0,T)\). The corresponding push-forward measure is given by \(\proj\vpara{U}\tparapsf{T}(\m)\). Again, I will use the shorthand \(\m\vpara{U}\tpara{T} \defeq \proj\vpara{U}\tparapsf{T}(\m)\). \(\m\tpara{0} = \law(\Xf\tme{0})\).

\section{Assumptions, Well-Posedness and Local Convergence}
\label{awl}
\subsection{Assumptions}
\label{awl::a}

We also need some assumptions on the form equation \eqref{p::Xf} can take. It turns out the following assumption is sufficient for equation \eqref{p::Xf} to have a unique strong solution.

\begin{defn}
We will call \(\rateset \defeq \{(\Xf\gind{G}\tme{0},\rate\stpara{i}:\mb{R}^+\times\cad\times\cad^\sqcup\ra\mb{R}^+)|i \in \sta,G \in \Gs\}\) the characteristics \tr{(need a better name)} of the process \(\Xf\gind{G}\) if \(\Xf\gind{G}\) is the unique (in law) weak solution to equation \eqref{p::Xf}.
\end{defn}

\begin{assu}
\begin{equation}
\sup_G\sup_v \ex{|\Xf\gind{G}\vind{v}\tme{0}|} < \infty
\label{a::bddstart}
\end{equation}

\tb{\(\Xf\gind{G}\vind{v}\tme{0} < \infty\) a.s. for all \(v \in V, G \in \Gs\) is sufficient for well-posedness. This assumption is used to prove local weak convergence.}
\label{a::bddinit}
\end{assu}

\tr{Define a sequence of constants \(\{\jumpbd{t}\}\) that depend only on \(t\). I use this constant for assumptions \ref{a::bddr} and \ref{a::liprx}. Assume without loss of generality that \(t \mapsto \jumpbd{t}\) is non-decreasing.}

\begin{assu}
\item For all \(T < \infty\) there exist constants \(\jumpibd{i}{T}\) and \(\jumpbd{T} < \infty\) such that,

\begin{equation}
\sum_{i \in \sta}|i|\Sm(\{i\})\sup_{\substack{t \in [0,T]\\\xf \in \cad,\xf' \in \cad^\sqcup}} \rate\stpara{i}\tmepro{t}{\xf}{\xf'} \defeq \sum_{i \in \sta}|i|\Sm(\{i\})\jumpibd{i}{T} \defeq \jumpbd{T}
\label{a::bddjmp}
\end{equation}

\tr{\remark Although this implies that \(\rate\stpara{i}\) is not necessarily bounded, it does imply that \(\Sm(\{i\})\rate\stpara{i} < \jumpbd{T}\).}
\label{a::bddr}
\end{assu}

\begin{assu}

\item For any \(t \in \mb{R}^+\),

\begin{equation}
\sup_{\substack{k \in \mb{N}_0\\\xf,\xg \in \cad,\xf',\xg'\in \cad^k}} \sum_{i \in \sta}|i|\Sm(\{i\})\left|\rate\stpara{i}\tmepro{t}{\xf}{\xf'} - \rate\stpara{i}\tmepro{t}{\xg}{\xg'}\right| \leq \jumpbd{t}\left|\stmet{t-}(\xf,\xg) + \frac{1}{k}\sum_{j=1}^k \stmet{t-}(\xf'\vind{j},\xg'\vind{j})\right|.
\label{a::xLipschitz}
\end{equation}

\tr{It may be possible to exchange Lipschitz continuity of \(\rateset\gind{G}\) for continuity in exchange for an assumption that increasing neighborhoods of the root of \(G\) grow at most exponentially asymptotically. The proof is longer and I haven't completely worked it out.}
\label{a::liprx}
\end{assu}

\skipLine

Note: for brevity, we may occasionally use the notation, \(\rate\stpara{i}\tme{t}\defeq \rate\stpara{i}\tmepro{t}{\Xf\vind{v}}{\Xf\vind{\neigh{v}}}\) when \(\Xf\) is clear from context. We may also use \(\rate\stpara{i}\tmepro{t}{\Xf\vind{\cl{v}}}{}\).

\subsection{Well-Posedness and Continuity}
\label{awl::wp}

\tr{This theorem applies for random \(G\) as well.}
\begin{thms}
If \(\rateset\) satisfies assumptions \ref{a::bddinit} and \ref{a::liprx}, then there exists a unique strong solution \(\Xf\gind{G}\) to equation \eqref{p::Xf} for all \(G \in \Gs\).
\label{wp::wp}
\end{thms}

The proof of this comes after the proof of lemma \ref{wp::Gronwall}.

\tr{This lemma should also hold for random \(G\).}

\begin{lem}
Suppose \(\rateset\) satisfies assumptions \ref{a::bddinit} and \ref{a::liprx}. Fix \(G \in \Gs\). Let \(\poisses = \{\poiss\poissv{v}:v \in V\}\) be a sequence of i.i.d. Poisson processes defined as in equation \eqref{p::Xf}. Let \(\Xf,\alt{\Xf}\) be \(\cad\vpara{V\gind{G}}\)-valued random elements with the property that \(\Xf\tme{0} = \alt{\Xf}\tme{0} = \Xf\gind{G}\tme{0}\). Define \(\Xg,\alt{\Xg}\) as follows:

\begin{align*}
\Xg\vind{v}\tme{t} &\defeq \Xf\vind{v}\tme{0} + \int_\sta\int_{(0,t]\times(0,\infty)} i\mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\Xf\vind{v}}{\Xf\vind{\gneigh{G}{v}}}}\,\poiss\poissv{v}(dr,ds,di) \te{ for } v \in V,t \geq 0\\
\alt{\Xg}\vind{v}\tme{t} &\defeq \alt{\Xf}\vind{v}\tme{0} + \int_\sta\int_{(0,t]\times(0,\infty)} i\mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\alt{\Xf}\vind{v}}{\alt{\Xf}\vind{\gneigh{G}{v}}}}\,\poiss\poissv{v}(dr,ds,di) \te{ for } v \in V,t \geq 0.\\
\end{align*}

Then for any \(T \in \mb{R}^+\),

\begin{equation}
\sup_{v\in V}\ex{\|\Xg\vind{v} - \alt{\Xg}\vind{v}\|\tpara{T}} \leq 2\jumpbd{T} \int_0^T \sup_{v \in V} \ex{\|\Xf\vind{v} - \alt{\Xf}\vind{v}\|\tpara{t}}\,dt.
\label{wp::Groneqn}
\end{equation}
\label{wp::Gronwall}
\end{lem}
\begin{proof}
Fix \(T \in \mb{R}^+\). For any \(t \in [0,T)\),

\begin{align*}
\ex{\|\Xg\vind{v} - \alt{\Xg}\vind{v}\|\tpara{t}} &= \ex{\sup_{t' \in (0,t]}\left|\int_\sta\int_{(0,t']\times (0,\infty)} i\left(\mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\Xf\vind{v}}{\Xf\vind{\gneigh{G}{v}}}} - \mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\alt{\Xf}\vind{v}}{\alt{\Xf}\vind{\gneigh{G}{v}}}} \right)\,\poiss\poissv{v}(dr,ds,di)\right|}\\
&\leq \ex{\int_\sta\int_{(0,t]\times (0,\infty)} |i|\left|\mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\Xf\vind{v}}{\Xf\vind{\gneigh{G}{v}}}} - \mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\alt{\Xf}\vind{v}}{\alt{\Xf}\vind{\gneigh{G}{v}}}} \right|\,\poiss\poissv{v}(dr,ds,di)}\\
&= \int_{(0,t]\times (0,\infty)}\ex{\sum_{i\in \sta}|i|\Sm(\{i\})\left|\mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\Xf\vind{v}}{\Xf\vind{\gneigh{G}{v}}}} - \mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\alt{\Xf}\vind{v}}{\alt{\Xf}\vind{\gneigh{G}{v}}}}\right|}\,dr\,ds\\
&= \int_{(0,t]}\ex{\sum_{i\in \sta}|i|\Sm(\{i\})\left|\rate\stpara{i}\tmepro{s}{\Xf\vind{v}}{\Xf\vind{\gneigh{G}{v}}} - \rate\stpara{i}\tmepro{s}{\alt{\Xf}\vind{v}}{\alt{\Xf}\vind{\gneigh{G}{v}}}\right|}\,ds\\
&\leq \int_{(0,t]}\ex{\jumpbd{T}\left|\stmet{s-}(\Xf\vind{v},\alt{\Xf}\vind{v}) + \frac{1}{|\gneigh{G}{v}|}\sum_{u\in \gneigh{G}{v}} \stmet{s-}(\Xf\vind{u},\alt{\Xf}\vind{u}) \right|}\,ds\\
&\leq 2\jumpbd{T} \int_0^T \sup_{v \in V} \ex{\|\Xf\vind{v} - \alt{\Xf}\vind{v}\|\tpara{s}}\,ds
\end{align*}

Thus,

\[\sup_{v\in V}\ex{\|\Xg\vind{v} - \alt{\Xg}\vind{v}\|\tpara{T}} \leq 2\jumpbd{T} \int_0^T \sup_{v \in V} \ex{\|\Xf\vind{v} - \alt{\Xf}\vind{v}\|\tpara{t}}\,dt.\]
\end{proof}

From here we can directly prove well-posedness.

\tr{Make sure Picard iteration arguments hold even when \(G\) is random.}
\begin{proof}[Proof of Theorem \ref{wp::wp}]
Use standard Picard iteration arguments.
\end{proof}

\remark In fact, if \(G\) has bounded degree, then we can use a similar proof to show that \(\Xf\gind{G}\) is well-defined whenever \(\rateset\) satisfies assumptions \ref{a::bddinit} and \ref{a::bddr}.

\ind Next we show that the mapping \(G \mapsto \law(\Xf\gind{G})\) is continuous with respect to the local weak topology.

\begin{lem}
Let \(\rateset\) satisfies assumptions \ref{a::bddinit} and \ref{a::bddr}. Then the set \(\{\Xf\gind{G}\vind{v}:G \in \Gs, v\in V\gind{G}\}\) is tight.
\label{wp::tight}
\end{lem}
\begin{proof}
Fix any \(t \in \mb{R}^+\). Then,

\begin{align*}
\sup_{G\in \Gs}\sup_{v \in V\gind{G}} \ex{\|\Xf\gind{G}\vind{v}\|\tpara{t}} &\leq \sup_{G\in \Gs}\sup_{v \in V}\ex{|\Xf\gind{G}\vind{v}\tme{0}| + \int_\sta\int_{(0,t]\times(0,\infty)} |i|\mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\Xf\gind{G}\vind{v}}{\Xf\gind{G}\vind{\gneigh{G}{v}}}}\,\poiss\poissv{v}(dr,ds,di)}\\
&\leq \sup_{G\in \Gs}\sup_{v \in V}\ex{|\Xf\gind{G}\vind{v}\tme{0}|} + \int_{(0,t]}\ex{\sum_{i\in \sta}|i|\Sm(\{i\})\rate\stpara{i}\tmepro{s}{\Xf\gind{G}\vind{v}}{\Xf\gind{G}\vind{\gneigh{G}{v}}}}\,ds\\
&\leq \sup_{G\in \Gs}\sup_{v \in V}\ex{|\Xf\gind{G}\vind{v}\tme{0}|} + t\jumpbd{t} < \infty
\end{align*}

Fix some \(T \in \mb{R}^+\), \(G \in Gs\) and \(v \in V\gind{G}\). Let \(0 \leq \rt \leq T\) be any \(\F\vpara{\cl{v}}\)-stopping time. Then for any \(\delta > 0\), \(G \in \Gs\) and \(v \in V\),

\begin{align*}
\ex{\left|\Xf\gind{G}\vind{v}\tme{\rt + \delta} - \Xf\gind{G}\vind{v}\tme{\rt}\right|} &= \ex{\left|\int_\sta\int_{(\rt,\rt+\delta]\times (0,\infty)} i\mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\Xf\gind{G}\vind{v}}{\Xf\gind{G}\vind{\gneigh{G}{v}}}}\,\poiss\poissv{v}(dr,ds,di)\right|}\\
&\leq \ex{\int_\sta\int_{(0,T+\delta]\times (0,\infty)} |i|\mb{I}_{s \in (\rt,\rt+\delta]}\mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\Xf\gind{G}\vind{v}}{\Xf\gind{G}\vind{\gneigh{G}{v}}}}\,\poiss\poissv{v}(dr,ds,di)}\\
&= \int_{(0,T + \delta]}\ex{\sum_{i\in \sta} |i|\Sm(\{i\})\rate\stpara{i}\tmepro{s}{\Xf\gind{G}\vind{v}}{\Xf\gind{G}\vind{\gneigh{G}{v}}}\mb{I}_{s \in (\rt,\rt+\delta]}}\,ds\\
&\leq \jumpbd{T+\delta}\int_{(0,T+\delta]} \pr\left(s \in (\rt,\rt+\delta]\right)\,ds\\
&= \delta\jumpbd{T + \delta}.
\end{align*}

Thus, \(\{\Xf\gind{G}\vind{v}:G \in \Gs\}\) satisfies the conditions of Aldous's theorem (see \cite[Theorem 16.10]{Bil99}), so it is tight.
\end{proof}

From this we can directly get a convergence result.

\begin{thms}
Suppose assumptions \ref{a::bddinit}, \ref{a::bddr} and \ref{a::liprx} hold. Let \(G\it{n} \ra G\) in \(\Gs\), and assume that \((G\it{n},\Xf\gind{G\it{n}}\tme{0}) \Rightarrow (G,\Xf\gind{G}\tme{0})\) locally weakly with respect to \(\Gs\sp{\sta}\). Then \((G\it{n},\Xf\gind{G\it{n}}) \Rightarrow (G,\Xf\gind{G})\) locally weakly with respect to \(\Gs\sp{\cad}\).
\label{wp::lwcthm}
\end{thms}
\begin{proof}
For any \(k \in \mb{N}\), \(\trnc{k}(V)\) is finite. Therefore the set, \(\{\Xf\gind{G\it{n}}\vind{v}: n \in \mb{N}, v \in \trnc{k}(G\it{n})\}\) is a finite union of tight sets (lemma \ref{wp::tight}), so it is also a tight set. Thus, by \cite[Lemma A.6]{LacRamWu19}, \((G\it{n},\Xf\gind{G\it{n}})\) is tight in \(\Gs\sp{\cad}\). By taking a subsequence if necessary, we can assume without loss of generality, suppose \((G\it{n},\Xf\gind{G\it{n}}) \Rightarrow (G,\Xf)\) locally weakly for some \((G,\Xf) \in \Gs\sp{\cad}\). It suffices to show that \(\Xf \deq \Xf\gind{G}\).

\ind Fix \(k\) and assume without loss of generality that \(\trnc{k}(G\it{n}) \cong \trnc{k}(G)\) for all \(n\in \mb{N}\). Let \(U = \trnc{k-1}(G)\) and let \(U\it{n} = \phi_n(\trnc{k-1}(G))\) be a (non-random) permutation of \(\trnc{k-1}(G\it{n})\) such that \(\Xf\gind{G\it{n}}\vind{\cl{U\it{n}}} \Rightarrow \Xf\vind{\cl{U}}\). Let \(\poiss\poissv{U\it{n}}(\cdot\times \{v\}) \defeq \poiss\poissv{v}(\cdot)\) for each \(v \in U\it{n}\).

\ind By definition, we can write

\[\Xf\gind{G\it{n}}\vind{v\it{n}}\tme{t} = \Xf\gind{G\it{n}}\vind{v\it{n}}\tme{0} + \int_\sta\int_{(0,t]\times (0,\infty)} \mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\Xf\gind{G\it{n}}\vind{v\it{n}}}{\Xf\gind{G\it{n}}\vind{\gneigh{G\it{n}}{v\it{n}}}}}\,\poiss\poissv{v\it{n}}(dr,ds,di) \te{ for } v\it{n}\in \trnc{k-1}(G\it{n}).\]

Fix \(T < \infty\). It's very simple to show that there exists a unique mapping \(F\vpara{U\it{n}}:(\mb{R}\times [0,T]\times \sta \times U\it{n})^\sqcup \times \cad\tpara{T}\vpara{\gneigh{G\it{n}}{U\it{n}}} \times \sta\vpara{U\it{n}} \ra \cad\vpara{U\it{n}}\tpara{T}\) such that,

\[\Xf\gind{G\it{n}}\vind{U\it{n}}\tmi{[0,T]} = F\vpara{U\it{n}}\left(\poiss\poissv{U\it{n}}, \Xf\gind{G\it{n}}\vind{\gneigh{G\it{n}}{U\it{n}}}\tmi{[0,T]}, \Xf\gind{G\it{n}}\vind{U\it{n}}\tme{0}\right).\]

 In fact, since the function \(F\vpara{U\it{n}}\) is invariant with respect to rooted isomorphism, we can write,

\[\Xf\gind{G\it{n}}\vind{U\it{n}}\tmi{[0,T]} = F\vpara{U}\left(\poiss\poissv{U\it{n}}, \Xf\gind{G\it{n}}\vind{\gneigh{G\it{n}}{U\it{n}}}\tmi{[0,T]}, \Xf\gind{G\it{n}}\vind{U\it{n}}\tme{0}\right).\]

The goal is to prove that,

\[F\vpara{U}\left(\poiss\poissv{U\it{n}}, \Xf\gind{G\it{n}}\vind{\gneigh{G\it{n}}{U\it{n}}}\tmi{[0,T]}, \Xf\gind{G\it{n}}\vind{U\it{n}}\tme{0}\right) \Rightarrow F\vpara{U}\left(\poiss\poissv{U}, \Xf\gind{G}\vind{\gneigh{G}{U}}\tmi{[0,T]}, \Xf\gind{G}\vind{U}\tme{0}\right).\]

First, by assumption and independence,

\[\left(\poiss\poissv{U\it{n}},\Xf\gind{G\it{n}}\vind{U\it{n}}\tme{0}\right) \Rightarrow\left(\poiss\poissv{U},\Xf\vind{U}\tme{0}\right)\te{ and } \Xf\gind{G\it{n}}\vind{\gneigh{G\it{n}}{U\it{n}}}\tmi{[0,T]} \Rightarrow \Xf\vind{\gneigh{G}{U}}\tmi{[0,T]}.\]

Thus, \(\left\{\left(\poiss\poissv{U\it{n}},\Xf\gind{G\it{n}}\vind{\gneigh{G\it{n}}{U\it{n}}}\tmi{[0,T]},\Xf\gind{G\it{n}}\vind{U\it{n}}\tme{0}\right): n \in \mb{N}\right\}\) is tight. By passing to a subsequence if necessary, assume without loss of generality that it converges in the weak topology. Thus,

\[\left(\poiss\poissv{U\it{n}},\Xf\gind{G\it{n}}\vind{\gneigh{G\it{n}}{U\it{n}}}\tmi{[0,T]},\Xf\gind{G\it{n}}\vind{U\it{n}}\tme{0}\right) \Rightarrow \left(\poiss\poissv{U},\Xf\vind{\gneigh{G}{U}}\tmi{[0,T]},\Xf\vind{U}\tme{0}\right).\]

Here the dependence between \(\left(\poiss\poissv{U},\Xf\vind{U}\tme{0}\right)\) and \(\Xf\vind{\gneigh{G}{U}}\tmi{[0,T]}\) is left unspecified. Notice that \(F\vpara{U}\) is not continuous. For example, define some \(\dpoiss \in (\mb{R}\times [0,T] \times \sta \times U)^\sqcup\) and \(\xf\in \cad\vpara{\cl{U}}\tpara{T}\) such that \(\xf = F\vpara{U}(\omega,\xf\vind{\gneigh{G}{U}}\tmi{[0,T]},\xf\vind{U}\tme{0})\). Suppose there is some \((r,t,i,v) \in \dpoiss\) such that \(r = \rate\stpara{i}\tmepro{t}{\xf\vind{v}}{\xf\vind{\gneigh{G}{v}}}\). Let \(\alt{\dpoiss} = \dpoiss - \delta_{(r,t,i,v)} + \delta_{(r+\ep,t,i,v)}\). Then for all \(\ep > 0\),

\[\stmet{T}\vpara{U}\left(F\vpara{U}\left(\dpoiss,\xf\vind{\gneigh{G}{U}}\tmi{[0,T]},\xf\vind{U}\tme{0}\right), F\vpara{U}\left(\alt{\dpoiss},\xf\vind{\gneigh{G}{U}}\tmi{[0,T]},\xf\vind{U}\tme{0}\right)\right) \geq 2^{-\phi_G(v)}.\]

Even though \(\alt{\dpoiss} \ra \dpoiss\) as \(\ep \ra 0\). However, I claim that \(F\vpara{U}\) is continuous almost surely with respect to \(\law\left(\poiss\poissv{U},\Xf\vind{\gneigh{G}{U}}\tmi{[0,T]},\Xf\vind{U}\tme{0}\right)\).

\ind I claim that \(F\vpara{U}\) is continuous at all points \((\dpoiss,\xf\vind{\gneigh{G}{U}}\tmi{[0,T]},\xf\vind{U}\tme{0})\) such that for every \((r,t,i,v) \in \dpoiss\), \(r \neq \rate\stpara{i}\tmepro{t}{\xf\vind{v}}{\xf\vind{\gneigh{G}{v}}}\) and \(t < T\) (here \(\xf = F\vpara{U}(\dpoiss,\xf\vind{\gneigh{G}{U}}\tmi{[0,T]},\xf\vind{U}\tme{0})\)).

\ind By definition, the ground intensity of \(\poiss\poissv{U}\) is just \(|U| < \infty\). By assumption \ref{a::bddr}, 

\[\sum_{i\in \sta}\sum_{v \in U} |i|\Sm(\{i\})\rate\stpara{i}\tmepro{t}{\Xf\vind{v}}{\Xf\vind{\gneigh{G}{v}}} \leq \jumpbd{T}|U| < \infty.\]

Thus, for any \(\ep > 0\), there are only finitely many points \((r,t,i,v) \in \poiss\poissv{U}\) such that \(r \leq \rate\stpara{i}\tmepro{t}{\Xf\vind{v}}{\Xf\vind{\gneigh{G}{v}}} + \ep\) with probability 1. Assume this same property holds for \((\dpoiss,\xf)\). 

\ind If \(r \neq \rate\stpara{i}\tmepro{t}{\xf\vind{v}}{\xf\vind{\gneigh{G}{v}}}\) for all \((r,t,i,v) \in \dpoiss\), then there exists a \(\ep > \delta > 0\) such that 

\[r' \neq \rate\stpara{i}\tmepro{t'}{\xf\vind{v}}{\xf\vind{\gneigh{G}{v}}} \te{ for all } (r',t') \in (r-\delta,r+\delta)\times (t-\delta,t+\delta),\quad t + \delta < T\te{ and } \sup_{t,t'\in \poiss\poissv{U}} |t - t'| > \delta.\]


\ind Suppose without loss of generality that \(C_t > 1\) for all \(t\in \mb{R}^+\). Define \(\xf' \in \cad\vpara{\gneigh{G}{U}}\tpara{T}\) such that,

\[\stmet{T-}\left(\xf\vind{v},\xf'\vind{v}\right) < \frac{\delta}{6\jumpbd{T}} \te{ for all } v \in \gneigh{G}{U}.\]

Let \(\alt{\dpoiss}\) be a non-random point process such that for each \((r,t,i,v) \in \dpoiss\), there exists a \((r',t',i,v) \in \alt{\dpoiss}\) such that \(|r - r'| + |t - t'| \leq \frac{\delta}{6\jumpbd{T}}\) and this mapping \((r,t) \mapsto (r',t')\) forms a bijection between the points of the two point processes. Then as \(\delta \ra 0\), \(\alt{\dpoiss} \ra \dpoiss\). Finally, let \(\xf' = F^U(\alt{\dpoiss},\xf'\vind{\gneigh{G}{U}},\xf\vind{U}\tme{0})\).

\ind Consider the points, \((r,t,i,v) \in \dpoiss\) and \((r',t',i,v) \in \alt{\dpoiss}\) with \(|r - r'| + |t - t'| < \frac{\delta}{6\jumpbd{T}}\). Suppose without loss of generality that \(t' < t\). Suppose also that \(\stmet{t'-}(\xf\vind{u},\xf'\vind{u}) < \frac{\delta}{6\jumpbd{T}}\) for all \(u \in \cl{v}\). 

\ind Suppose \(r < \rate\stpara{i}\tmepro{t}{\xf\vind{v}}{\xf\vind{\gneigh{G}{v}}}\). Then \(|r - r'| < \frac{\delta}{6\jumpbd{T}}\). By definition of \(\delta\),

\[\left|\rate\stpara{i}\tmepro{t'}{\xf\vind{v}}{\xf\vind{\gneigh{G}{v}}} - r\right| \geq \delta.\]

By assumption \ref{a::liprx},

\[\left|\rate\stpara{i}\tmepro{t'}{\xf'\vind{v}}{\xf'\vind{\gneigh{G}{v}}} - \rate\stpara{i}\tmepro{t'}{\xf\vind{v}}{\xf\vind{\gneigh{G}{v}}}\right| \leq \jumpbd{T}\cdot 2\frac{\delta}{6\jumpbd{T}} = \frac{\delta}{3}.\]

We can conclude that,

\begin{align*}
\rate\stpara{i}\tmepro{t'}{\xf'\vind{v}}{\xf'\vind{\gneigh{G}{v}}} - r' &= \left(\rate\stpara{i}\tmepro{t'}{\xf'\vind{v}}{\xf'\vind{\gneigh{G}{v}}} - \rate\stpara{i}\tmepro{t'}{\xf\vind{v}}{\xf\vind{\gneigh{G}{v}}}\right) + (r'- r) + \left(\rate\stpara{i}\tmepro{t'}{\xf'\vind{v}}{\xf'\vind{\gneigh{G}{v}}} - r\right)\\
& \geq -\frac{\delta}{3} - \frac{\delta}{6\jumpbd{T}} + \delta > 0.
\end{align*}

A similar argument shows that \(r > \rate\stpara{i}\tmepro{t}{\xf\vind{v}}{\xf\vind{\gneigh{G}{v}}}\) implies \(r' > \rate\stpara{i}\tmepro{t'}{\xf'\vind{v}}{\xf'\vind{\gneigh{G}{v}}}\). Thus, \(\delt\xf\vind{v}\tme{t} = \delt\xf'\vind{v}\tme{t'}\).

\ind Since there are no jumps in \(\xf\) and \(\xf'\) on respective time intervals \((t,t+\delta)\) and \(t',t'+\delta)\), we can conclude that \(\stmet{(t' + \delta)-}(\xf\vind{v},\xf'\vind{v}) < \frac{\delta}{6\jumpbd{T}}\). Finally, 

\[\stmet{0}(\xf\vind{v},\xf'\vind{v}) < \frac{\delta\mb{I}_{v \in \bdry{U}}}{6\jumpbd{T}} \te{ for all } v \in \cl{U}.\]

By induction,

\[\stmet{T}\vpara{U}\left(F\vpara{U}\left(\dpoiss,\xf\vind{\gneigh{G}{U}}\tmi{[0,T]},\xf\vind{U}\tme{0}\right), F\vpara{U}\left(\alt{\dpoiss},\xf'\vind{\gneigh{G}{U}}\tmi{[0,T]},\xf\vind{U}\tme{0}\right)\right) \leq \sum_{v \in U}2^{-\phi_G(v)}\frac{\delta}{6\jumpbd{T}} \leq \frac{\delta}{6\jumpbd{T}}.\]

Thus \(F\vpara{U}\) is continuous at \((\dpoiss,\xf\vind{\gneigh{G}{U}}\tmi{[0,T]}, \xf\vind{U}\tme{0})\). 

\ind Finally, fix \(\ep > 0\). Let \(\ptsnum\vpara{U} = \poiss\poissv{U}\left((0,\rate\stpara{i}\tmepro{t}{\Xf\vind{v}}{\Xf\vind{\gneigh{G}{v}}}+\ep)\times (0,T] \times \sta \times U\right)\). Let \(\{(r\it{j},t\it{j},i\it{j},v\it{j}):j=1,\dots,\ptsnum\vpara{U}\}\) be all of the points in \(\poiss\poissv{U}\left((0,\rate\stpara{i}\tmepro{t}{\Xf\vind{v}}{\Xf\vind{\gneigh{G}{v}}}+\ep)\times (0,T] \times \sta \times U\right)\).

\begin{align*}
\pr&\left(F\vpara{U}\left(\poiss\poissv{U},\Xf\vind{\gneigh{G}{U}}\tmi{[0,T]},\Xf\vind{U}\tme{0}\right)\te{ is discontinuous}\right)\\
&\leq \pr\left(\poiss\poissv{U}\left((0,\rate\stpara{i}\tmepro{t}{\Xf\vind{v}}{\Xf\vind{\gneigh{G}{v}}} + \ep)\times \{T\} \times \sta\times U\right)=0\right) \\
&\hspace{24 pt}+ \sum_{m=0}^\infty \pr(\ptsnum\vpara{U} = m)\int_{[0,T]^m} \sum_{j=1}^m \pr(r\it{j} = \rate\stpara{i\it{j}}\tmepro{t\it{j}}{\Xf\vind{v\it{j}}}{\Xf\vind{\gneigh{G}{v\it{j}}}})\,dt\it{1},\dots,dt\it{m}\\
&=0.
\end{align*}

Note: we can say that \(\pr(r\it{j} = \rate\stpara{i\it{j}}\tmepro{t\it{j}}{\Xf\vind{v\it{j}}}{\Xf\vind{\gneigh{G}{v\it{j}}}}) = 0\) because \(r\it{j}\) is independent of \(\Xf\tmi{[0,t\it{j})}\), so it is independent of \(\rate\stpara{i\it{j}}\tmepro{t\it{j}}{\Xf\vind{v\it{j}}}{\Xf\vind{\gneigh{G}{v\it{j}}}}\). \tr{A.s. continuity of \(F^U\) can be reduced to a short paragraph after verification.}

\ind By the continuous mapping theorem, 

\[\Xf\gind{G\it{n}}\vind{U\it{n}} = F\vpara{U}\left(\poiss\poissv{U\it{n}},\Xf\gind{G\it{n}}\vind{\gneigh{G\it{n}}{U\it{n}}}\tmi{[0,T]},\Xf\gind{G\it{n}}\vind{U\it{n}}\tme{0}\right) \Rightarrow F\vpara{U}\left(\poiss\poissv{U},\Xf\vind{\gneigh{G}{U}}\tmi{[0,T]},\Xf\vind{U}\tme{0}\right).\]

But, \(\Xf\gind{G\it{n}}\vind{U\it{n}} \Rightarrow \Xf\vind{U}\). So, there exists a probability space on which,

\[\Xf\vind{U} = F\vpara{U}\left(\poiss\poissv{U},\Xf\vind{\gneigh{G}{U}}\tmi{[0,T]},\Xf\vind{U}\tme{0}\right)\te{ a.s.}\]

This implies,

\begin{equation}
\Xf\vind{v}\tme{t} = \Xf\vind{v}\tme{0} + \int_\sta\int_{(0,t]\times (0,\infty)} \mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\Xf\vind{v}}{\Xf\vind{\gneigh{G}{v}}}}\,\poiss\poissv{v}(dr,ds,di) \te{ for } v \in \trnc{k-1}(G), t \in [0,T],
\label{wp::weakXf}
\end{equation}

where \(\{\poiss\poissv{v}: v \in \trnc{k-1}(G)\}\) is a sequence of i.i.d. Poisson processes with intensity measure \(\Sm\times \leb\). Using this construction, we get a characterization of \(\law\left(\left(\{\Xf\vind{v}\}_{v \in \trnc{k}(G)},\{\poiss\poissv{u}\}_{u \in \trnc{k-1}{G}}\right)\right)\).

\ind Suppose \(k' < k\). Let \(U\dit{k}{n}\) be some set isomorphic to \(\trnc{k-1}(V\gind{G\it{n}})\), and let \(U\dit{k'}{n}\) be isomorphic to \(\trnc{k'-1}(V\gind{G\it{n}})\) with respect to the same isomorphism. This is possible because isomorphisms preserve graph distance, so any \(\phi\it{k} \in I(\trnc{k-1}(G\it{n}),\trnc{k-1}(G\it{n})\) projects uniquely to an isomorphism \(\phi\it{k'} \in I\left(\trnc{k'-1}(G\it{n}),\trnc{k'-1}(G\it{n})\right)\). Let \(U\it{k} = \trnc{k-1}(G)\) and \(U\it{k'} = \trnc{k'-1}(G)\). Pass to a subsequence such that,

\[\Xf\gind{G\it{n}}\vind{U\dit{k}{n}} \Rightarrow \Xf\vind{U\it{k}}\te{ and } \left(\poiss\vind{U\dit{k}{n}},\Xf\gind{G\it{n}}\vind{\gneigh{G\it{n}}{U\dit{k}{n}}}\tmi{[0,T]},\Xf\gind{G\it{n}}\vind{U\dit{k}{n}}\tme{0}\right) \Rightarrow \left(\poiss\vind{U\it{k}},\Xf\vind{\gneigh{G}{U\it{k}}}\tmi{[0,T]},\Xf\vind{U}\tme{0}\right).\]

By the argument above,

\[\left(\Xf\gind{G\it{n}}\vind{\cl{U\dit{k}{n}}}\tmi{[0,T]},\poiss\poissv{U\dit{k}{n}}\right)\Rightarrow \left(\Xf\vind{\cl{U\it{k}}}\tmi{[0,T]},\poiss\poissv{U\it{k}}\right),\]

where the joint distribution satisfies equation \eqref{wp::weakXf}. This implies that,

\[\Xf\gind{G\it{n}}\vind{U\dit{k'}{n}} \Rightarrow \Xf\vind{U\it{k'}}\te{ and } \left(\poiss\vind{U\dit{k'}{n}},\Xf\gind{G\it{n}}\vind{\gneigh{G\it{n}}{U\dit{k'}{n}}}\tmi{[0,T]},\Xf\gind{G\it{n}}\vind{U\dit{k'}{n}}\tme{0}\right) \Rightarrow \left(\poiss\vind{U\it{k'}},\Xf\vind{\gneigh{G}{U\it{k'}}}\tmi{[0,T]},\Xf\vind{U}\tme{0}\right),\]

which implies

\[\left(\Xf\gind{G\it{n}}\vind{\cl{U\dit{k'}{n}}}\tmi{[0,T]},\poiss\poissv{U\dit{k'}{n}}\right)\Rightarrow \left(\Xf\vind{\cl{U\it{k'}}}\tmi{[0,T]},\poiss\poissv{U\it{k'}}\right),\]

which also satisfies equation \eqref{wp::weakXf}. Thus \(\left(\{\Xf\vind{v}\}_{v \in V\gind{G}}, \{\poiss\poissv{u}\}_{u \in V\gind{G}}\right)\) is consistent in a Kolmogorov sense. By the Bochner-Kolmogorov extension theorem \cite{BezCim14}, there exists a \(\left(\Xf\vind{V\gind{G}},\poiss\poissv{V\gind{G}}\right)\) such that,

\[\Xf\vind{v}\tme{t} = \Xf\vind{v}\tme{0} + \int_\sta\int_{(0,t]\times (0,\infty)} \mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\Xf\vind{v}}{\Xf\vind{\gneigh{G}{v}}}}\,\poiss\poissv{v}(dr,ds,di) \te{ for } v \in V\gind{G}, t \in [0,T].\]

\tb{To avoid notational confusion, I will use green text for notation taken directly from \cite{BezCim14}. Start verification of the assumptions of Bochner-Kolmogorov.}

\skipLine

Let \(\tg{A} = \mb{N}\), and let the ordering \(\leq\) on \(\tg{A}\) be defined by the normal ordering on \(\mb{N}\). For \(\tg{\alpha \in A}\), define \(\tg{\Omega_\alpha} = \cad\vpara{\trnc{\tg{\alpha}}(G)}\tpara{T}\times \left([0,\jumpibd{i}{T}] \times [0,T] \times \sta \times \trnc{\tg{\alpha}-1}(G)\right)^{\sqcup}\). Define \(\tg{\ms{S}_\alpha} \defeq \ms{B}(\tg{\Omega_\alpha}).\) Suppose \(\tg{\alpha,\beta\in A}\) and \(\tg{\beta} > \tg{\alpha}\). Then define,

\[\tg{f_{\alpha\beta}}(\xf,\dpoiss) = \left(\xf\vind{\trnc{\tg{\alpha}}(G)}, \{(r,t,i,v) \in \dpoiss: v \in \trnc{\tg{\alpha}-1}(G)\}\right).\]

Finally, let \(\tg{P_\alpha} = \law\left(\Xf\vind{\trnc{\tg{\alpha}}(G)},\poiss\poissv{\trnc{\tg{\alpha}-1}(G)}\right)\). Then for any set \(A \in \tg{\ms{S}_\alpha}\), 

\[\tg{f^{-1}_{\alpha\beta}}(A) = \left\{\left(\Xf\vind{\trnc{\tg{\alpha}}(G)},\poiss\poissv{\trnc{\tg{\alpha}-1}(G)}\right) \in A\right\} \in \tg{\ms{S}_\beta}.\]

It is similarly easy to show that \(\tg{f_{\alpha\beta}\circ f_{\beta\gamma}} = \tg{f_{\alpha\gamma}}\) for any \(\tg{\alpha\leq \beta\leq\gamma}\). Finally, \(\tg{P_\alpha} = \tg{P_\beta \circ f_{\alpha\beta}^{-1}}\) by definition of marginals. Thus \(\tg{\{(\Omega_\alpha,\ms{S}_\alpha,P_\alpha,f_{\alpha\beta}), \alpha \leq \beta, \alpha,\beta\in A\}}\) is a \tg{projective system}. \(\tg{\Omega_\alpha}\) is a sequence of 2nd countable Hausdorff topological spaces, \(\tg{\ms{S}_\alpha}\) is Borel and \(\tg{P_\alpha}\) is inner-regular. Thus, the assumptions of the theorem are fulfilled, and there exists a unique \tg{projective limit}.

\ind There is one thing to keep in mind. The paper defines the \tg{projective limit} as the infinite product \(\tg{\prod_{\alpha \in A} \Omega_\alpha}\) as well as the \(\sigma\)-algebra and probability measure defined on it. However, it is clear to see how we can directly extract a unique probability measure and \(\sigma\)-algebra on \(\cad\vpara{V\gind{G}}\tpara{T}\times \left([0,\jumpibd{i}{T}\times [0,T]\times \sta\right)^\sqcup\times V\gind{G}\) from this \tg{projective limit}.
\skipLine

\tb{End verification.}

\ind Thus \((\Xf,\poiss)\) is a weak solution to equation \eqref{p::Xf}. By Theorem \ref{wp::wp}, equation \eqref{p::Xf} has a unique strong solution given by \(\Xf\gind{G}\tmi{[0,T]}\). By \cite[Proposition 2.10]{Kur07}, this implies that equation \eqref{p::Xf} has a unique in law weak solution, which is of course equal in distribution to \(\Xf\gind{G}\tmi{[0,T]}\). Therefore \(\Xf\tmi{[0,T]} \deq \Xf\gind{G}\tmi{[0,T]}\). Finally, since \(T\) was chosen arbitrarily, it follows that \(\Xf \deq \Xf\gind{G}\).
\end{proof}

\begin{coro}
Let \(\{G\it{n}:n\in\mb{N}\}\) be a sequence of \(\Gs\)-valued random elements such that \(G\it{n} \Rightarrow G\) for some random element \(G\) taking values in \(\Gs\). Then \((G\it{n},\Xf\gind{G\it{n}}) \Rightarrow (G,\Xf\gind{G})\) with respect to local convergence.
\end{coro}
\begin{proof}
By Theorem \ref{wp::lwcthm}, the mapping \(G \mapsto \pmsr(\Gs\sp{\cad})\) is continuous. The result follows by the continuous mapping theorem.
\end{proof}

\section{Conditional Independence}
\label{CI}

The conditional independence property is proved using induction. For it to hold, we must first assume the base case also holds.

\begin{assu}
\(\{\Xf\gind{G}\vind{v}\tme{0}:v \in V\}\) is a sequence of independent random variables. 

\tr{\ind Consider 2nd order Gibbs instead. This should still hold, but some of the density calculations in the proof of uniqueness would become a little more complex.} 

\tb{\ind I should move this to a later section. It's unnecessary for well-posedness and local weak convergence. It only becomes important for conditional independence.}
\label{CI::indinit}
\end{assu}

\tb{This cannot be easily extended to the case in which \(\{X\gind{G}\vind{v}\tme{0}:v \in V\}\) are merely exchangeable (I bring this up because of a question I received in Edinburgh).}

\begin{thms}
Suppose \((G,\Xf\gind{G})\in \Gs\sp{\cad}\) satisfy assumptions \ref{a::bddinit},\ref{a::bddr}, \ref{a::liprx} and \ref{CI::indinit}. Let \(\seto \subseteq V\) and let \(\sett = V\setminus \ov{\ov{\seto}}\). Let \(\setc = \dneigh{\seto}\) and suppose \(|\setc| < \infty\). Then for all \(t < \infty\),

\begin{equation}
\Xf\vind{\seto}\tmi{[0,t)}\perp \Xf\vind{\sett}\tmi{[0,t)}|\Xf\vind{\setc}\tmi{[0,t)}
\label{CI::CIeqn}
\end{equation}

\label{CI::CI}
\end{thms}

The proof of this theorem can be found after the proof of lemma \ref{CIpf::Induction}.

\subsection{Proof}
\label{CI::CIpf}

\pfsum We consider two sets of stopping times. The events driving \(\Xf\vind{\neigh{\seto}}\) and the events driving \(\Xf\vind{\neigh{\sett}}\). Because \(|\sett| < \infty\), these are well behaved. We apply induction by iterating over one of the stopping times along a path in \(\mb{N}^2\). At each inductive step, we combine various properties of conditional independence with a breakdown of each path into its component random elements to prove the result. By combining all possible paths, we change from stopping times to deterministic times. There is a minor adaptation we have to make at the end to change from closed intervals to half-open intervals.

\skipLine

\remark \(G\in \Gs\) is assumed to be some fixed deterministic graph. Since \(G\) is fixed, we can write \(\Xf\) instead of \(\Xf\gind{G}\).

\skipLine

\remark In this section we will distinguish between the events \(\{\Xf\tmi{[0,t]} = 0\}\) and \(\{\Xf\tmi{[0,t]}\equiv 0\}\). The first event is an event of probability 0 when \(\Xf\) is a \(\cad\vpara{\seto}\tpara{t}\) or \(\cad\vpara{\seto}\tpara{t-}\)-valued random element for some \(\seto\subseteq V\) and \(t \in [0,\infty)\) (because 0 is not a path) while the second event is the event that \(\Xf\tme{s} = 0\) for all \(s\) in the domain of \(\Xf\).

\ind Given three random elements \(\Xf,\Xg \te{ and } \Xh\), we say \(\Xf\perp \Xg\) if \(\Xf\) and \(\Xg\) are independent. We say \(\Xf\mutex \Xg\) if the events \(\{\Xf\neq 0\}\) and \(\{\Xg \neq 0\}\) are mutually exclusive. We say \(\Xf\perp \Xg|\Xh\) if \(\Xf\) and \(\Xg\) are conditionally independent given \(\Xh\).

\ind Finally, fix a \(T < \infty\). We will first prove that the conditional independence property holds for all \(t \leq T\). Then we will extend to \(t \in \mb{R}^+\).

\begin{defn}
We define the pair of sequences of stopping times:

\begin{align*}
\rt\indx{\indo} &= \inf \left\{t \in [0,\infty): \sum_{v \in \neigh{\seto}}\poiss\poissv{v}\left((0,\jumpibd{i}{T}],[0,t],\sta \right) = \indo\right\}\\
\rtt\indx{\indt} &= \inf \left\{t \in [0,\infty): \poiss\poissv{\neigh{\sett}}\left((0,\jumpibd{i}{T}],[0,t],\sta \right) = \indt\right\}.
\end{align*}

Here \(\jumpibd{i}{T}\) is as defined in assumption \ref{a::bddr}. We also define the set of paths along \(\mb{N}^2\) by,

\begin{align}
\pathset{\indo}{\indt} = \{\apath \in (\mb{N}^2)^{\indo+\indt-1}: &\apath(1) = (1,1)\te{, } \apath(\indo+\indt-1) = (\indo,\indt)\te{, and } \nonumber\\
&\apath(k+1) - \apath(k)\in \{\ev{1},\ev{2}\}\te{ for }k\in \{1,\dots, \indo+\indt-2\}\}.
\label{CIpf::Lambda}
\end{align}

\(\ev{1},\ev{2}\) are assumed to be the standard basis vectors on \(\mb{N}^2\). We equivalently define a path \(\apath \in \pathset{\indo}{\indt}\) as an event:

\begin{align}
\apath(k) &= \begin{cases}
\left\{\rt\indx{\apath\indx{1}(k)} \leq \rtt\indx{\apath\indx{2}(k)}\right\} &\te{ if } \apath(k+1) - \apath(k) = \ev{1}\\
\left\{\rt\indx{\apath\indx{1}(k)} > \rtt\indx{\apath\indx{2}(k)}\right\} &\te{ if } \apath(k+1) - \apath(k) = \ev{2}
\end{cases}\\
\apath &= \bigcap_{k=1}^{\indo+\indt-2} \apath(k)
\label{CIpf::Gamma}
\end{align}
\label{CIpf::GammaLambda}
\end{defn}

The core of the proof of Theorem \ref{CI::CI} comes from iterating over these stopping times in such a way that no stopping time gets too large with respect to the other. \(\apath\) tracks the route taken while \(\pathset{\indo}{\indt}\) is the set of all possible values of \(\apath\) given the current state of induction.

\ind The following lemma gives us the inductive step obtained by iterating over the paths in definition \ref{CIpf::GammaLambda}.

\begin{lem}
For all \((\indo,\indt)\in \mb{N}_0^2\), \(t < \infty\) and \(\apath \in \pathset{\indo}{\indt}\),

\[\Xf\vind{\seto}\tmi{[0,\rt\indx{\indo}\wedge t)}\mb{I}_{\apath}\perp \Xf\vind{\sett}\tmi{[0,\rtt\indx{\indt}\wedge t)}\mb{I}_{\apath}|\left(\Xf\vind{\neigh{\seto}}\tmi{[0,\rt\indx{k}\wedge t)},\Xf\vind{\neigh{\sett}}\tmi{[0,\rtt\indx{\indt}\wedge t)}\right)\mb{I}_{\apath}\]
\label{CIpf::Induction}
\end{lem}

This is proven by decomposing \(\Xf\) into its component random elements. Using the properties of conditional independence proven in the appendix (lemma \ref{TL::Props}), we prove the conditional independence of lemma \ref{CIpf::Induction}. The proof of this lemma comes after the proof of lemma \ref{CIpf::Decomposition}.

\begin{lem}
For all \((\indo,\indt)\in \mb{N}^2\), there exist measurable mappings \(\phi\) and \(\psi\) such that 

\begin{equation}
\Xf\vind{\seto}\tmi{[0,\rt\indx{\indo+1})} = \phi\left(\Xf\vind{\cl{\seto}}\tmi{[0,\rt\indx{\indo}]}, \left\{\poiss\poissv{v}\left((\mb{R}^+,(\rt\indx{\indo},\rt\indx{\indo+1})\times \sta\right):v \in \neigh{\seto}\right\}\right)
\label{CIpf::XU forward map}
\end{equation}

and

\begin{equation}
\Xf\vind{\sett}\tmi{[0,\rtt\indx{\indt+1})} = \psi\left(\Xf\vind{\cl{\sett}}\tmi{[0,\rtt\indx{\indt}]}, \left\{\poiss\poissv{v}\left((\mb{R}^+,(\rt\indx{\indt},\rt\indx{\indt+1})\times \sta\right):v \in \neigh{\sett}\right\}\right)
\label{CIpf::XW forward map}
\end{equation}

\label{CIpf::Decomposition}
\end{lem}

\begin{proof}
By symmetry, it suffices to prove that equation \ref{CIpf::XU forward map} holds (if we proof equation \eqref{CIpf::XU forward map} holds for all \(\seto \subseteq V\), then we can proof equation \eqref{CIpf::XW forward map} holds by swapping the definitions of \(\seto\) and \(\sett\)). By theorem \ref{wp::wp}, for any sequence of i.i.d. Poisson processes, \(\{\poiss\poissv{v}:v\in V\}\), on \(\mb{R}^2\times \sta\) with intensity measure \(\leb\times\Sm\) we can write,

\[\Xf\vind{v}\tme{t} = \Xf\vind{v}\tme{0} + \int_\sta\int_{(0,t]\times (0,\infty)} i\mb{I}_{r\leq \rate\stpara{i}\tmepro{s}{\Xf\vind{\cl{v}}}{}}\,\poiss\poissv{v}\left(dr,ds,di\right)\te{ for all } v\in V.\]

Consider the process \((G\vpara{\cl{\seto}},\Xf\gind{G\vpara{\cl{\seto}}})\), which is well-defined by theorem \ref{wp::wp}. Assume \(\Xf\gind{G\vpara{\cl{\seto}}}\tme{0} = \Xf\vind{\cl{\seto}}\tme{\rt\indx{\indo}}\), and assume \(\Xf\gind{G\vpara{\cl{\seto}}}\) is driven by \(\{\alt{\poiss}\poissv{v}([0,\infty)\times [0,\infty)\times \sta):v \in \cl{\seto}\} \defeq \{\poiss\poissv{v}([0,\infty)\times [\rt\indx{\indo},\infty)\times \sta):v \in \cl{\seto}\}\). Define,

\[\alt{\Xf}\vind{v}\tme{t} \defeq \mb{I}_{t < \rt\indx{\indo}} \Xf\vind{v}\tme{t} + \mb{I}_{\rt\indx{\indo + 1} > t \geq \rt\indx{\indo}}\Xf\gind{G\vpara{\cl{\seto}}}\vind{v}\tme{t - \rt\indx{\indo}}\te{ for } v \in \cl{\seto}.\]

It suffices to prove that \(\Xf\vind{\seto}\tmi{[0,\rt\indx{\indo+1})} = \alt{\Xf}\vind{\seto}\tmi{[0,\rt\indx{\indo+1})}\) almost surely. By definition of \(\{\rt\indx{\indo}:\indo\in\mb{N}\}\), 

\[\alt{\Xf}\vind{\gneigh{G}{\seto}}\tmi{[\rt\indx{\indo},\rt\indx{\indo+1})} \equiv \Xf\gind{G\vpara{\cl{\seto}}}\vind{\gneigh{G}{\seto}}\tme{0} = \Xf\vind{\gneigh{G}{\seto}}\tme{\rt\indx{\indo}} \equiv \Xf\vind{\gneigh{G}{\seto}}\tmi{[\rt\indx{\indo},\rt\indx{\indo+1})}.\]

Let \(\evnt\tpara{t} \defeq \{t < \rt\indx{\indo+1}\}\) and \(\alt{\evnt}\tpara{t} \defeq \{t \in [\rt\indx{\indo},\rt\indx{\indo+1})\}\). Then for any \(v \in \seto\) and \(t > 0\),

\begin{align*}
\ex{\|\Xf\vind{v} - \alt{\Xf}\vind{v}\|\tpara{t}\mb{I}_{\evnt\tpara{t}}} &=\ex{\|\Xf\vind{v} - \alt{\Xf}\vind{v}\|\tpara{t}\mb{I}_{\alt{\evnt}\tpara{t}}}\\
&\leq \ex{\mb{I}_{\alt{\evnt}\tpara{t}}\int_\sta\int_{(\rt\indx{\indo},t]\times (0,\infty)} |i|\left|\mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\Xf\vind{v}}{\Xf\vind{\neigh{v}}}} - \mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\alt{\Xf}\vind{v}}{\alt{\Xf}\vind{\neigh{v}}}}\right|\,\poiss\poissv{v}(dr,ds,di)}\\
&=\ex{\int_\sta\int_{(0,t]\times (0,\infty)} \mb{I}_{\alt{\evnt}\tpara{t}}|i|\left|\mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\Xf\vind{v}}{\Xf\vind{\neigh{v}}}} - \mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\alt{\Xf}\vind{v}}{\alt{\Xf}\vind{\neigh{v}}}}\right|\,\poiss\poissv{v}(dr,ds,di)}\\
&= \sum_{i \in \sta}\Sm(\{i\})|i|\int_0^t\int_0^\infty \ex{\mb{I}_{\alt{\evnt}\tpara{t}}\left|\mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\Xf\vind{v}}{\Xf\vind{\neigh{v}}}} - \mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\alt{\Xf}\vind{v}}{\alt{\Xf}\vind{\neigh{v}}}}\right|}\,dr\,ds\\
&= \int_0^t\ex{\mb{I}_{\alt{\evnt}\tpara{t}}\sum_{i \in \sta}\Sm(\{i\})|i|\int_0^\infty\left|\mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\Xf\vind{v}}{\Xf\vind{\neigh{v}}}} - \mb{I}_{r \leq \rate\stpara{i}\tmepro{s}{\alt{\Xf}\vind{v}}{\alt{\Xf}\vind{\neigh{v}}}}\right|\,dr}\,ds\\
&= \int_0^t\ex{\mb{I}_{\alt{\evnt}\tpara{t}}\sum_{i \in \sta}\Sm(\{i\})|i|\left|\rate\stpara{i}\tmepro{s}{\Xf\vind{v}}{\Xf\vind{\neigh{v}}} - \rate\stpara{i}\tmepro{s}{\alt{\Xf}\vind{v}}{\alt{\Xf}\vind{\neigh{v}}}\right|}\,ds\\
&\leq\int_0^t\ex{\mb{I}_{\evnt\tpara{t}}\jumpbd{t}\left|\stmet{s-}(\Xf\vind{v},\alt{\Xf}\vind{v}) + \frac{1}{|\neigh{v}|}\sum_{u \in \neigh{v}} \stmet{s-}(\Xf\vind{u},\alt{\Xf}\vind{u})\right|}\,ds\\
&\leq \int_0^t2\jumpbd{t} \sup_{v \in \seto}\ex{\mb{I}_{\evnt\tpara{s}}\stmet{s-}(\Xf\vind{v},\alt{\Xf}\vind{v})}\,ds
\end{align*}

For any \(T < \infty\), assume \(t \in [0,T]\). Then, since the Skorokhod metric is bounded from above by the uniform metric, we can conclude:

\[\sup_{v \in \seto}\ex{\mb{I}_{\evnt\tpara{t}}\stmet{t-}(\Xf\vind{v},\alt{\Xf}\vind{v})} \leq \int_0^t 2\jumpbd{T}\sup_{v \in \seto}\ex{\mb{I}_{\evnt\tpara{s}}\stmet{s-}(\Xf\vind{v},\alt{\Xf}\vind{v})}\,ds.\]

By Gronwall's inequality, conclude \(\sup_{v \in \seto}\ex{\mb{I}_{\evnt\tpara{t}}\stmet{t-}(\Xf\vind{v},\alt{\Xf}\vind{v})} = 0\). Thus \(\Xf\vind{\seto}\tmi{[0,\rt\indx{\indo+1}\wedge T)} = \alt{\Xf}\vind{\seto}\tmi{[0,\rt\indx{\indo+1}\wedge T)}\) almost surely. Since this is true for all \(T < \infty\), we can conclude that \(\Xf\vind{\seto}\tmi{[0,\rt\indx{\indo+1})} = \alt{\Xf}\vind{\seto}\tmi{[0,\rt\indx{\indo+1})}\) almost surely.
\end{proof}

We are now equipped to prove lemma \ref{CIpf::Induction}.

\begin{proof}[Proof of Lemma \ref{CIpf::Induction}:]

Begin the proof with the base case of \(\indo=\indt =1\). \(\pathset{1}{1}\) contains a single element \(\apath = ((1,1))\). In addition, \(\mb{I}_{\apath} = 1\).

\ind By independence of initial conditions,

\[\Xf\vind{\seto}\tme{0}\perp \Xf\vind{\sett}\tme{0}|\Xf\vind{\dneigh{\seto}}\tme{0}.\]

\(\rt\indx{1}\wedge t\) is \(\sigma\left(\poiss\poissv{u}:u\in \neigh{\seto}\right)\) measurable and \(\rtt\indx{1}\wedge t\) is \(\sigma\left(\poiss\poissv{u}:u\in \neigh{\sett}\right)\) measurable. Therefore, both stopping times are independent of each other and of the initial conditions. By Lemma \ref{TL::Props}(b), 

\[\Xf\vind{\seto}\tme{0}\perp \Xf\vind{\sett}\tme{0}|\left(\Xf\vind{\neigh{\seto}}\tme{0},\Xf\vind{\neigh{\sett}}\tme{0},\rt\indx{1}\wedge t,\rtt\indx{1}\wedge t\right).\]

Since \(\Xf\vind{\neigh{\seto}}\) is constant on \([0,\rt\indx{1}\wedge t)\) and \(\Xf\vind{\neigh{\sett}}\) is constant on \([0,\rtt\indx{1}\wedge t)\), the mapping \((\Xf\vind{\dneigh{\seto}}\tme{0},\rt\indx{1}\wedge t,\rtt\indx{1}\wedge t) \mapsto (\Xf\vind{\neigh{\seto}}\tmi{[0,\rt\indx{1}\wedge t)},\Xf\vind{\neigh{\sett}}\tmi{[0,\rtt\indx{1}\wedge t)})\) is 1-to-1. By Lemma \ref{TL::Props}(a),

\begin{equation}
\Xf\vind{\seto}\tme{0}\perp \Xf\vind{\sett}\tme{0}|\left(\Xf\vind{\neigh{\seto}}\tmi{[0,\rt\indx{1}\wedge t)},\Xf\vind{\neigh{\sett}}\tmi{[0,\rtt\indx{1}\wedge t)}\right).
\label{CIpf::induction_intermediate_1}
\end{equation}

By lemma \ref{CIpf::Decomposition}, we can express \(\Xf\vind{\seto}\tmi{[0,\rt\indx{1}\wedge t)}\) in terms of \(\Xf\vind{\cl{\seto}}\tme{0}\) and \(\poiss\poissv{\seto}(\mb{R} \times (0,\rt\indx{1}\wedge t)\times\sta)\). We can equivalently describe \(\Xf\vind{\seto}\tmi{[0,\rt\indx{1}\wedge t)}\) in terms of \(\Xf\vind{\seto}\tme{0}\), \(\Xf\vind{\neigh{\seto}}\tmi{[0,\rt\indx{1}\wedge t)}\) and \(\poiss\poissv{\seto}(\mb{R}\times (0,\rt\indx{1}\wedge t)\times \sta)\) which is independent of all terms in expression \eqref{CIpf::induction_intermediate_1}. Applying a similar argument for \(\Xf\vind{\sett}\), we can apply Lemmas \ref{TL::Props}(a) and (e) to get

\[\Xf\vind{\seto}\tmi{[0,\rt\indx{1}\wedge t)}\perp \Xf\vind{\sett}\tmi{[0,\rtt\indx{1}\wedge t)}|\left(\Xf\vind{\neigh{\seto}}\tmi{[0,\rt\indx{1}\wedge t)},\Xf\vind{\neigh{\sett}}\tmi{[0,\rtt\indx{1}\wedge t)}\right)\]

This proves our base case.

\ind Now, we prove the general case. Suppose Lemma \ref{CIpf::Induction} holds for \(\alt{\apath} \in \pathset{\indo}{\indt}\). Then there exists a unique extension, \(\apath \in \pathset{\indo+1}{\indt}\), of \(\alt{\apath}\). It suffices to prove that Lemma \ref{CIpf::Induction} holds for \(\apath\) (by symmetry it will also hold for the unique extension of \(\alt{\apath} \te{ to } \pathset{\indo}{\indt+1}\)). First, note that

\begin{equation}
\mb{I}_{\apath} = \mb{I}_{\alt{\apath}}\mb{I}_{\rt\indx{\indo} \leq \rtt\indx{\indt}}
\label{CIpf::extpath}
\end{equation}

By assumption,

\[\Xf\vind{\seto}\tmi{[0,\rt\it{\indo}\wedge t)}\mb{I}_{\alt{\apath}}\perp \Xf\vind{\sett}\tmi{[0,\rtt\it{\indt}\wedge t)}\mb{I}_{\alt{\apath}}|\left(\Xf\vind{\neigh{\seto}}\tmi{[0,\rt\it{\indo}\wedge t)},\Xf\vind{\neigh{\sett}}\tmi{[0,\rtt\it{\indt}\wedge t)}\right)\mb{I}_{\alt{\apath}}\]

By lemma \ref{TL::Props}(d), we can multiply everything by \(\mb{I}_{\rt\it{\indo} \leq \rtt\it{\indt}}\mb{I}_{t \geq \min(\rt\it{\indo},\rtt\it{\indt})}\) which is measurable with respect to \(\left(\Xf\vind{\neigh{\seto}}\tmi{[0,\rt\it{\indo}\wedge t)},\Xf\vind{\neigh{\sett}}\tmi{[0,\rtt\it{\indt}\wedge t)}\right)\mb{I}_{\alt{\apath}}\):

\begin{equation}
\Xf\vind{\seto}\tmi{[0,\rt\it{\indo}\wedge t)}\mb{I}_{\apath}\mb{I}_{t \geq \min(\rt\it{\indo},\rtt\it{\indt})}\perp \Xf\vind{\sett}\tmi{[0,\rtt\it{\indt}\wedge t)}\mb{I}_{\apath}\mb{I}_{t \geq \min(\rt\it{\indo},\rtt\it{\indt})}|\left(\Xf\vind{\neigh{\seto}}\tmi{[0,\rt\it{\indo}\wedge t)},\Xf\vind{\neigh{\sett}}\tmi{[0,\rtt\it{\indt}\wedge t)}\right)\mb{I}_{\apath}\mb{I}_{t \geq \min(\rt\it{\indo},\rtt\it{\indt})}.
\label{CIpf::bigTind}
\end{equation}

Similarly, by lemma \ref{TL::Props}(d),

\[\Xf\vind{\seto}\tmi{[0,\rt\it{\indo}\wedge t)}\mb{I}_{\alt{\apath}}\mb{I}_{t < \min(\rt\it{\indo},\rtt\it{\indt})}\perp \Xf\vind{\sett}\tmi{[0,\rtt\it{\indt}\wedge t)}\mb{I}_{\alt{\apath}}\mb{I}_{t < \min(\rt\it{\indo},\rtt\it{\indt})}|\left(\Xf\vind{\neigh{\seto}}\tmi{[0,\rt\it{\indo}\wedge t)},\Xf\vind{\neigh{\sett}}\tmi{[0,\rtt\it{\indt}\wedge t)}\right)\mb{I}_{\alt{\apath}}\mb{I}_{t < \min(\rt\it{\indo},\rtt\it{\indt})}.\]

Now, \(\mb{I}_{\rt\it{\indo} \leq \rtt\it{\indt}}\mb{I}_{t < \min(\rt\it{\indo},\rtt\it{\indt})}\) is independent of \(\left(\Xf\vind{\neigh{\seto}}\tmi{[0,\rt\it{\indo}\wedge t)},\Xf\vind{\neigh{\sett}}\tmi{[0,\rtt\it{\indt}\wedge t)}\right)\mb{I}_{\alt{\apath}}\mb{I}_{t < \min(\rt\it{\indo},\rtt\it{\indt})}\). By applying lemma \ref{TL::Props} (b),(e) and then (a) we can multiply all terms by \(\mb{I}_{\rt\it{\indo} \leq \rtt\it{\indt}}\mb{I}_{t < \min(\rt\it{\indo},\rtt\it{\indt})}\):

\begin{equation}
\Xf\vind{\seto}\tmi{[0,\rt\it{\indo}\wedge t)}\mb{I}_{\apath}\mb{I}_{t < \min(\rt\it{\indo},\rtt\it{\indt})}\perp \Xf\vind{\sett}\tmi{[0,\rtt\it{\indt}\wedge t)}\mb{I}_{\apath}\mb{I}_{t < \min(\rt\it{\indo},\rtt\it{\indt})}|\left(\Xf\vind{\neigh{\seto}}\tmi{[0,\rt\it{\indo}\wedge t)},\Xf\vind{\neigh{\sett}}\tmi{[0,\rtt\it{\indt}\wedge t)}\right)\mb{I}_{\apath}\mb{I}_{t < \min(\rt\it{\indo},\rtt\it{\indt})}.
\label{CIpf::smallTind}
\end{equation}

Using lemma \ref{TL::Props}(f) to combine equations \eqref{CIpf::bigTind} and \eqref{CIpf::smallTind} yields,

\[\Xf\vind{\seto}\tmi{[0,\rt\it{\indo}\wedge t)}\mb{I}_{\apath}\perp \Xf\vind{\sett}\tmi{[0,\rtt\it{\indt}\wedge t)}\mb{I}_{\apath}|\left(\Xf\vind{\neigh{\seto}}\tmi{[0,\rt\it{\indo}\wedge t)},\Xf\vind{\neigh{\sett}}\tmi{[0,\rtt\it{\indt}\wedge t)}\right)\mb{I}_{\apath}.\]

By definition of \(\rt\it{\indo}\), there is an event in \(\poiss\poissv{\neigh{\seto}}\) at time \(\rt\it{\indo}\) for every \(\indo \in \mb{ N}\). Let \(\rv\) be the random vector signifying in which node of \(\neigh{\seto}\) the event is located as well as the height and mark of the event. Because Poisson processes are simple, \(\rv\) is well-defined. Furthermore, \(\rv\) is independent of all terms in the equation above. We can specifically describe the distribution of \(\rv\). Let \(\rv\vind{1}\) be uniform over \(\neigh{\seto}\). Let \(\rv\vind{2}\) be an \(\sta\)-valued random variable with distribution \(\Sm\). Finally, whenever \(\rt\it{\indo} \leq t\), let \(\rv\vind{3}\) be a uniform \([0,\jumpibd{\rv\vind{2}}{t}]\) random variable. Then, if \(\rv=(\rv\vind{1},\rv\vind{2},\rv\vind{3})\),

\[\Xf\vind{\neigh{\seto}}\tme{\rt\it{\indo}\wedge t} = \begin{cases}
\Xf\vind{\neigh{\seto}}\tme{t} &\te{ if } \rt\it{\indo} > t\\
\Xf\vind{\neigh{\seto}}\tme{\rt\it{\indo}-} + \rv\vind{2}\ev{\rv\vind{1}} &\te{ if } \rv\vind{3}< \rate\stpara{\rv\vind{2}}\tmepro{\rt\it{\indo}-}{\Xf\vind{\rv\vind{1}}}{\Xf\vind{\neigh{\rv\vind{1}}}}\te{ and } \rt\it{\indo} \leq t\\
\Xf\vind{\neigh{\seto}}\tme{\rt\it{\indo}-} &\te{ otherwise}
\end{cases}\]

Because \(\Xf\) satisfies assumption \ref{a::liprx}, \(\Xf\vind{\neigh{\seto}}\tme{\rt\it{\indo}\wedge t}\) only depends on \(\Xf\vind{\cl{\cl{\seto}}}\tmi{[0,\rt\it{\indo}\wedge t)}\) and \(\rv\). By Lemma \ref{TL::Props}(c), 

\[\Xf\vind{\seto}\tmi{[0,\rt\it{\indo}\wedge t)}\mb{I}_{\apath}\perp \Xf\vind{\sett}\tmi{[0,\rtt\it{\indt}\wedge t)}\mb{I}_{\apath}|\left(\Xf\vind{\neigh{\seto}}\tmi{[0,\rt\it{\indo}\wedge t]},\Xf\vind{\neigh{\sett}}\tmi{[0,\rtt\it{\indt}\wedge t)}\right)\mb{I}_{\apath}.\]

\(\rt\it{i+1}\wedge t - \rt\it{\indo}\wedge t\) is \(\sigma(\poiss\poissv{\neigh{\seto}}(\rt\it{\indo}\wedge t,\infty))\) measurable, so it is independent of all terms above. Therefore, by Lemma \ref{TL::Props}(b),

\[\Xf\vind{\seto}\tmi{[0,\rt\it{\indo}\wedge t)}\mb{I}_{\apath}\perp \Xf\vind{\sett}\tmi{[0,\rtt\it{\indt}\wedge t)}\mb{I}_{\apath}|\left(\Xf\vind{\neigh{\seto}}\tmi{[0,\rt\it{\indo}\wedge t]},\Xf\vind{\neigh{\sett}}\tmi{[0,\rtt\it{\indt}\wedge t)},\rt\it{\indo+1}\wedge t - \rt\it{\indo}\wedge t\right)\mb{I}_{\apath}.\]

\(\Xf\vind{\neigh{\seto}}\) is constant on \([\rt\it{\indo}\wedge t,\rt\it{\indo+1}\wedge t)\), so we can use a 1-to-1 function and Lemma \ref{TL::Props}(a) to reduce the above statement to

\[\Xf\vind{\seto}\tmi{[0,\rt\it{\indo}\wedge t)}\mb{I}_{\apath}\perp \Xf\vind{\sett}\tmi{[0,\rtt\it{\indt}\wedge t)}\mb{I}_{\apath}|\left(\Xf\vind{\neigh{\seto}}\tmi{[0,\rt\it{\indo+1}\wedge t)},\Xf\vind{\neigh{\sett}}\tmi{[0,\rtt\it{\indt}\wedge t)}\right)\mb{I}_{\apath}.\]

Now, \(\Xf\vind{\seto}\tme{\rt\it{\indo}\wedge t}\) is \(\left(\Xf\vind{\seto}\tmi{[0,\rt\it{\indo}\wedge t)}, \Xf\vind{\neigh{\seto}}\tmi{[0,\rt\it{\indo}\wedge t)}, \poiss\poissv{\seto}(\{\rt\it{\indo}\wedge t\}\times \mb{R}\times\sta)\right)\) measurable. Applying lemmas \ref{TL::Props} (a) and (e), we get

\[\Xf\vind{\seto}\tmi{[0,\rt\it{\indo}\wedge t]}\mb{I}_{\apath}\perp \Xf\vind{\sett}\tmi{[0,\rtt\it{\indt}\wedge t)}\mb{I}_{\apath}|\left(\Xf\vind{\neigh{\seto}}\tmi{[0,\rt\it{\indo+1}\wedge t)},\Xf\vind{\neigh{\sett}}\tmi{[0,\rtt\it{\indt}\wedge t)}\right)\mb{I}_{\apath}.\]

Combining Lemmas \ref{CIpf::Decomposition}, \ref{TL::Props}(a) and \ref{TL::Props}(e) as in the base case, we get

\[\Xf\vind{\seto}\tmi{[0,\rt\it{\indo+1}\wedge t)}\mb{I}_{\apath}\perp \Xf\vind{\sett}\tmi{[0,\rtt\it{\indt}\wedge t)}\mb{I}_{\apath}|\left(\Xf\vind{\neigh{\seto}}\tmi{[0,\rt\it{\indo+1}\wedge t)},\Xf\vind{\neigh{\sett}}\tmi{[0,\rtt\it{\indt}\wedge t)}\right)\mb{I}_{\apath}.\]

which completes the proof.
\end{proof}

\begin{proof}[Proof of theorem \ref{CI::CI}]

By lemma \ref{CIpf::Induction}, for every \(t < \infty, (\indo,\indt) \in \mb{N}_0^2\) and \(\apath \in \pathset{\indo}{\indt}\),

\[\Xf\vind{\seto}\tmi{[0,\rt\it{\indo}\wedge t)}\mb{I}_{\apath}\perp \Xf\vind{\sett}\tmi{[0,\rtt\it{\indt}\wedge t)}\mb{I}_{\apath}|\left(\Xf\vind{\neigh{\seto}}\tmi{[0,\rt\it{\indo}\wedge t)},\Xf\vind{\neigh{\sett}}\tmi{[0,\rtt\it{\indt}\wedge t)}\right)\mb{I}_{\apath}.\]

Notice that each \(\pathset{\indo}{\indt}\) is a finite set of almost surely disjoint events. By lemma \ref{TL::Props}(f) and (h),

\[\Xf\vind{\seto}\tmi{[0,\rt\it{\indo}\wedge t)}\mb{I}_{\cup_{\apath \in \pathset{\indo}{\indt}}\apath}\perp \Xf\vind{\sett}\tmi{[0,\rtt\it{\indt}\wedge t)}\mb{I}_{\cup_{\apath \in \pathset{\indo}{\indt}}\apath}|\left(\Xf\vind{\neigh{\seto}}\tmi{[0,\rt\it{\indo}\wedge t)},\Xf\vind{\neigh{\sett}}\tmi{[0,\rtt\it{\indt}\wedge t)}\right)\mb{I}_{\cup_{\apath \in \pathset{\indo}{\indt}}\apath}.\]

However, \(\mb{I}_{\cup_{\apath \in \pathset{\indo}{\indt}}\apath} = 1\). So, 

\[\Xf\vind{\seto}\tmi{[0,\rt\it{\indo}\wedge t)}\perp \Xf\vind{\sett}\tmi{[0,\rtt\it{\indt}\wedge t)}|\left(\Xf\vind{\neigh{\seto}}\tmi{[0,\rt\it{\indo}\wedge t)},\Xf\vind{\neigh{\sett}}\tmi{[0,\rtt\it{\indt}\wedge t)}\right) \te{ for all } (\indo,\indt)\in\mb{N}_0^2.\]

Then by lemma \ref{TL::Props}(d),

\begin{align*}
\Xf\vind{\seto}\tmi{[0,\rt\it{\indo}\wedge t)}\mb{I}_{\rt\it{\indo-1}\vee\rtt\it{\indt-1} \leq t < \rt\it{\indo}\wedge\rt\it{\indt}}&\perp \Xf\vind{\sett}\tmi{[0,\rtt\it{\indt}\wedge t)}\mb{I}_{\rt\it{\indo-1}\vee\rtt\it{\indt-1} \leq t < \rt\it{\indo}\wedge\rt\it{\indt}}\\
&|\left(\Xf\vind{\neigh{\seto}}\tmi{[0,\rt\it{\indo}\wedge t)},\Xf\vind{\neigh{\sett}}\tmi{[0,\rtt\it{\indt}\wedge t)}\right)\mb{I}_{\rt\it{\indo-1}\vee\rtt\it{\indt-1} \leq t < \rt\it{\indo}\wedge\rt\it{\indt}} \te{ for all } (\indo,\indt)\in\mb{N}^2.
\end{align*}


This simplifies to,

\[\Xf\vind{\seto}\tmi{[0,t)}\mb{I}_{\rt\it{\indo-1}\vee\rtt\it{\indt-1} \leq t < \rt\it{\indo}\wedge\rt\it{\indt}}\perp \Xf\vind{\sett}\tmi{[0,t)}\mb{I}_{\rt\it{\indo-1}\vee\rtt\it{\indt-1} \leq t < \rt\it{\indo}\wedge\rt\it{\indt}}|\left(\Xf\vind{\neigh{\seto}}\tmi{[0,t)},\Xf\vind{\neigh{\sett}}\tmi{[0,t)}\right)\mb{I}_{\rt\it{\indo-1}\vee\rtt\it{\indt-1} \leq t < \rt\it{\indo}\wedge\rt\it{\indt}}.\]

Taking a disjoint union over all \(n,m\in\mb{N}^2\) and applying lemma \ref{TL::Props}(f) yields,

\[\Xf\vind{\seto}\tmi{[0,t)}\perp \Xf\vind{\sett}\tmi{[0,t)}|\left(\Xf\vind{\neigh{\seto}}\tmi{[0,t)},\Xf\vind{\neigh{\sett}}\tmi{[0,t)}\right) = \Xf\vind{\setc}\tmi{[0,t)}.\]
\end{proof}

































\newpage
\appendix
\section{Technical Lemmas}
\label{TL}

\begin{lem}
Assume \(\Xf,\Xg\) and \(\Xh\) are random elements such that \(\Xf\perp \Xg|\Xh\). Assume also that \(\pr(\Xf=0) = \pr(\Xg=0) = \pr(\Xh=0) = 0\).

\begin{enumerate}[(a)]
\item If \(\phi,\psi\) are measurable functions and \(\theta\) is a 1-to-1 function, then \(\phi(\Xf)\perp \psi(\Xg)|\theta(\Xh)\).

\item If \(\Xj\perp(\Xf,\Xg,\Xh)\), then \(\Xf\perp \Xg|(\Xh,\Xj)\), \((\Xf,\Xj)\perp \Xg|\Xh\) and \(\Xf\perp (\Xg,\Xj)|\Xh\).

\item If \(\Xj\perp (\Xf,\Xg,\Xh)\) and \(\phi\) is a measurable function, then

\[\Xf\perp \Xg|(\Xh,\phi(\Xf,\Xh,\Xj))\]

\item If \(\typset\) is \(\sigma(\Xh)\) measurable, then 

\[\Xf\mb{I}_\typset\perp \Xg\mb{I}_\typset|\Xh\mb{I}_\typset\]

\item If \(U\perp V\) and \((U,V)\perp(\Xf,\Xg,\Xh)\), then 

\[(\Xf,\Xh,U)\perp (\Xg,\Xh,V)|\Xh\]

\item Suppose \(\Xf\mb{I}_{\typset\indx{i}}\perp \Xg\mb{I}_{\typset\indx{i}}|\Xh\mb{I}_{\typset\indx{i}}\) for all \(i\in I\) where \(I\) is a finite or countably infinite set and \(\{\typset\indx{i}\}\) is a family of disjoint sets. Then,

\[\Xf\mb{I}_{\cup_i \typset\indx{i}}\perp \Xg\mb{I}_{\cup_i \typset\indx{i}}|\Xh\mb{I}_{\cup_i \typset\indx{i}}\]

\item Let \(\typset\) be any event such that \(\pr(\typset) > 0\). Suppose \(U\mb{I}_\typset\perp \mb{I}_\typset(\Xf,\Xg,\Xh)|\mb{I}_\typset\). Suppose also that \(\Xf\mb{I}_\typset\perp \Xg\mb{I}_\typset|\mb{I}_\typset(\Xh,U)\), but do not necessarily assume \(\Xf\perp \Xg|\Xh\). Then 

\[\Xf\mb{I}_\typset\perp \Xg\mb{I}_\typset|\Xh\mb{I}_\typset\]

\item If \(\typset\) is an event that happens with probability 1, and \(\Xf\mb{I}_\typset \perp \Xg\mb{I}_\typset |\Xh\mb{I}_\typset\), then 

\[\Xf\perp \Xg |\Xh\]
\end{enumerate}
\label{TL::Props}
\end{lem}

\begin{proof}
For all parts of this lemma, I use the following two results:

\begin{itemize}
\item \(\Xf\perp \Xg|\Xh\) if and only if

\[\ex{\ex{f(\Xf)|\Xh}g(\Xg)h(\Xh)} = \ex{f(\Xf)g(\Xg)h(\Xh)}\]

for all bounded non-negative measurable functions \(f,g\) and \(h\).

\item Any bounded non-negative measurable function in two variables \(f(\xf,\xg)\) can be approximated by a sum of a product of two bounded non-negative measurable functions in one variable:

\[f(\xf,\xg) = \sum_{k=1}^\infty f\dit{k}{1}(\xf)f\dit{k}{2}(\xg)\]

Within this lemma, I will assume without loss of generality that all functions of the form \(f(\xf,\xg)\) can be written as a product: \(f(\xf,\xg) = f\it{1}(\xf)f\it{2}(\xg)\).
\end{itemize}

\begin{enumerate}[(a)]
\item \(\tilde{f}(\Xf):=f(\phi(\Xf))\) and \(\tilde{g}(\Xg):=g(\psi(\Xg))\) are non-negative, bounded measurable functions, and \(\sigma(\theta(\Xh)) = \sigma(\Xh)\) because \(\theta\) is 1-to-1. Let \(\tilde{h}(\Xh):= h(\theta(\Xh))\). Then,

\begin{align*}
\ex{\ex{f(\phi(\Xf))|\theta(\Xh)}g(\psi(\Xg))h(\theta(\Xh))} &= \ex{\ex{\tilde{f}(\Xf)|\Xh}\tilde{g}(\Xg)\tilde{h}(\Xh)}\\
& = \ex{\tilde{f}(\Xf)\tilde{g}(\Xg)\tilde{h}(\Xf)}\\
& = \ex{f(\phi(\Xf))g(\psi(\Xg))h(\theta(\Xh))}
\end{align*}

\item Since \(\Xj\perp (\Xf,\Xg,\Xh)\), notice that by the tower property,

\[\ex{\ex{f\it{1}(\Xf)f\it{2}(\Xg)|\Xh}g(\Xh)h(\Xj)} = \ex{f\it{1}(\Xf)f\it{2}(\Xg)g(\Xh)}\ex{h(\Xj)} = \ex{f\it{1}(\Xf)f\it{2}(\Xg)g(\Xh)h(\Xj)}\]

So \((\Xf,\Xg)\perp \Xj|\Xh\). In particular, that means that 

\[\ex{\ex{f(\Xf)|\Xh,\Xj}g(\Xg)h(\Xh,\Xj)} = \ex{\ex{f(\Xf)|\Xh}g(\Xg)h_1(\Xh)}\ex{h_2(\Xj)} = \ex{f(\Xf)g(\Xg)h(\Xh,\Xj)}\]

which proves that \(\Xf\perp \Xg|\Xh,\Xj\).

\[\ex{\ex{f\it{1}(\Xf)f\it{2}(\Xj)|\Xh}g(\Xg)h(\Xh)} = \ex{f\it{2}(\Xj)}\ex{\ex{f\it{1}(\Xf)|\Xh}g(\Xg)h(\Xh)} = \ex{f(\Xf,\Xj)g(\Xg)h(\Xh)}\]

So \((\Xf,\Xj)\perp \Xg|\Xh\). Then \(\Xf\perp (\Xg,\Xj)|\Xh\) by symmetry.

\item By part (b), 

\[(\Xf,\Xj)\perp \Xg|\Xh.\]

By \cite[Lemma 2.10]{RamCur} \tr{This reference is out of date}, 

\[(\Xf,\Xj)\perp \Xg|(\Xh,\phi(\Xh,\Xf,\Xj)).\]

By part (a),

\[\Xf\perp \Xg|(\Xh,\phi(\Xh,\Xf,\Xj))\]

\item Notice that the event \(\typset^c\) is an atom in \(\sigma(\Xh\mb{I}_\typset)\). For any \(B \in \sigma(\Xh)\) such that \(B\subset \typset\), \(B \in \sigma(\Xh\mb{I}_\typset)\). Therefore, we can represent all sets \(C \in \sigma(\Xh\mb{I}_\typset)\) by \(C = B\) or \(C = B\dot{\cup} \typset^c\) where \(\{B\subset \typset\}\te{ and } B \in \sigma(\Xh)\). Suppose \(C = B\dot{\cup} \typset^c\). Then,

\begin{align*}
\ex{\ex{f(\Xf\mb{I}_\typset)|\Xh\mb{I}_\typset}\mb{I}_C} &= \ex{f(\Xf\mb{I}_\typset)\mb{I}_\typset}+\ex{f(\Xf\mb{I}_\typset)\mb{I}_B} = \ex{f(0)\mb{I}_\typset} + \ex{\ex{f(\Xf)|\Xh}\mb{I}_B}\\
\end{align*}

So we can write

\begin{equation}
\ex{f(\Xf\mb{I}_\typset)|\Xh\mb{I}_\typset}(\omega) = \begin{cases}
\ex{f(\Xf)|\Xh}(\omega) &\te{ if } \omega \in \typset\\
f(0) &\te{ otherwise}
\end{cases}
\label{TL::disjoint CE}
\end{equation}

Then

\begin{align*}
\ex{\ex{f(\Xf\mb{I}_\typset)|\Xh\mb{I}_\typset}g(\Xg\mb{I}_\typset)h(\Xh\mb{I}_\typset)} &= \ex{\mb{I}_\typset\ex{f(\Xf)|\Xh}g(\Xg)h(\Xh)} + \ex{\mb{I}_{\typset^c}f(0)g(0)h(0)}\\
&=\ex{\mb{I}_\typset f(\Xf)g(\Xg)h(\Xh)}+\ex{\mb{I}_{\typset^c}f(0)g(0)h(0)}\\
&= \ex{f(\Xf\mb{I}_\typset)g(\mb{I}_\typset)h(\mb{I}_\typset)}
\end{align*}

which completes the proof.

\item We can show this directly:

\begin{align*}
\mb{E}\bigg[\ex{f\it{1}(\Xf)f\it{2}(\Xh)f\it{3}(U)|\Xh}g\it{1}(\Xg)&g\it{2}(\Xh)g\it{3}(V)h(\Xh)\bigg]\\
&= \ex{f\it{3}(U)g\it{3}(V)}\ex{\ex{f\it{1}(\Xf)|\Xh}g\it{1}(\Xg)(f\it{2}(\Xh)g\it{2}(\Xh)h(\Xh))}\\
&= \ex{f\it{3}(U)g\it{3}(V)}\ex{f\it{1}(\Xf)g\it{1}(\Xg)f\it{2}(\Xh)g\it{2}(\Xh)h(\Xh)}\\
&= \ex{f(\Xf,\Xh,U)g(\Xg,\Xh,V)h(\Xh)}
\end{align*}

\item First, if \(I\) is finite, then it suffices to prove conditional independence for \(I =\{1,2\}\). Notice that any set \(B \in \sigma(\Xh\mb{I}_{\typset\it{1}\dot{\cup} \typset\it{2}})\) can be expressed as \(B = C\dot{\cup} D\dot{\cup}\{(\typset\it{1}\dot{\cup} \typset\it{2})^c\}\) or \(B = C\dot{\cup} D\) where \(C\in \sigma(\Xh\mb{I}_{\typset\it{1}})\), \(D \in \sigma(\Xh\mb{I}_{\typset\it{2}})\), \(C \subseteq \typset\it{1}\) and \(D \subseteq \typset\it{2}\). Notice also that the unions defining \(B\) are disjoint unions. Let \(B = C\dot{\cup} D\dot{\cup} \{(\typset\it{1}\dot{\cup} \typset\it{2})^c\}\).

\begin{align*}
\mb{E}\bigg[\ex{f(\Xf\mb{I}_{\typset\it{1}\dot{\cup} \typset\it{2}})|\Xh\mb{I}_{\typset\it{1}\dot{\cup} \typset\it{2}}}&\mb{I}_B\bigg]= \ex{f(\Xf\mb{I}_{\typset\it{1}\dot{\cup} \typset\it{2}})\mb{I}_B}\\
&= \ex{\mb{I}_Cf(\Xf\mb{I}_{\typset\it{1}\dot{\cup} \typset\it{2}})} + \ex{\mb{I}_Df(\Xf\mb{I}_{\typset\it{1}\dot{\cup} \typset\it{2}})} + \ex{\mb{I}_{(\typset\it{1}\dot{\cup} \typset\it{2})^c}f(\Xf\mb{I}_{\typset\it{1}\dot{\cup} \typset\it{2}})}\\
&= \ex{\mb{I}_C f(\Xf\mb{I}_{\typset\it{1}})} + \ex{\mb{I}_D f(\Xf\mb{I}_{\typset\it{2}})} + \ex{\mb{I}_{(\typset\it{1}\dot{\cup} \typset\it{2})^c}f(0)}\\
&= \ex{\mb{I}_{C}\ex{f(\Xf\mb{I}_{\typset\it{1}})|\Xh\mb{I}_{\typset\it{1}}}} + \ex{\mb{I}_{D}\ex{f(\Xf\mb{I}_{\typset\it{2}})|\Xh\mb{I}_{\typset\it{2}}}} + \ex{\mb{I}_{(\typset\it{1}\dot{\cup} \typset\it{2})^c}f(0)}
\end{align*}

In particular, we can write

\begin{equation}
\ex{f(\Xf\mb{I}_{\typset\it{1}\dot{\cup} \typset\it{2}})|\Xh\mb{I}_{\typset\it{1}\dot{\cup} \typset\it{2}}} = \mb{I}_{\typset\it{1}}\ex{f(\Xf\mb{I}_{\typset\it{1}})|\Xh\mb{I}_{\typset\it{1}}} + \mb{I}_{\typset\it{2}}\ex{f(\Xf\mb{I}_{\typset\it{2}})|\Xh\mb{I}_{\typset\it{2}}} + \mb{I}_{(\typset\it{1}\dot{\cup} \typset\it{2})^c}f(0)
\label{TL::disjoint sum CE}
\end{equation}

Then,

\begin{align*}
\mb{E}\bigg[\ex{f(\Xf\mb{I}_{\typset\it{1}\dot{\cup} \typset\it{2}})|\Xh\mb{I}_{\typset\it{1}\dot{\cup} \typset\it{2}}}&g(\Xg\mb{I}_{\typset\it{1}\dot{\cup} \typset\it{2}})h(\Xh\mb{I}_{\typset\it{1}\dot{\cup} \typset\it{2}})\bigg]\\
&= \ex{\mb{I}_{\typset\it{1}}\ex{f(\Xf\mb{I}_{\typset\it{1}})|\Xh\mb{I}_{\typset\it{1}}}g(\Xg\mb{I}_{\typset\it{1}})h(\Xh\mb{I}_{\typset\it{1}})} +\\
&\hspace{1 cm} \ex{\mb{I}_{\typset\it{2}}\ex{f(\Xf\mb{I}_{\typset\it{2}})|\Xh\mb{I}_{\typset\it{2}}}g(\Xg\mb{I}_{\typset\it{2}})h(\Xh\mb{I}_{\typset\it{2}})} + \\
&\hspace{1 cm} \ex{\mb{I}_{(\typset\it{1}\dot{\cup} \typset\it{2})^c}f(0)g(0)h(0)}\\
&= \ex{\mb{I}_{\typset\it{1}}f(\Xf\mb{I}_{\typset\it{1}})g(\Xg\mb{I}_{\typset\it{1}})h(\Xh\mb{I}_{\typset\it{1}})} + \ex{\mb{I}_{\typset\it{2}}f(\Xf\mb{I}_{\typset\it{2}})g(\Xg\mb{I}_{\typset\it{2}})h(\Xh\mb{I}_{\typset\it{2}})} +\\
&\hspace{1 cm} \ex{\mb{I}_{(\typset\it{1}\dot{\cup} \typset\it{2})^c}f(0)g(0)h(0)}\\
&= \ex{f(\Xf\mb{I}_{\typset\it{1}\dot{\cup} \typset\it{2}})g(\Xg\mb{I}_{\typset\it{1}\dot{\cup} \typset\it{2}})h(\Xh\mb{I}_{\typset\it{1}\dot{\cup} \typset\it{2}})}
\end{align*}

Now suppose \(I\) is countably infinite. Without loss of generality, assume \(I = \mb{N}\). Furthermore, assume \(f(0) = g(0) = h(0) = 0\).

Then for any \(n \in \mb{N}\),

\[\ex{f(\Xf\mb{I}_{\dot{\cup}_{i=1}^n \typset\it{i}})|\Xh\mb{I}_{\dot{\cup}_{i=1}^n \typset\it{i}}} = \sum_{i=1}^n \mb{I}_{\typset\it{i}}\ex{f(\Xf\mb{I}_{\typset\it{i}})|\Xh\mb{I}_{\typset\it{i}}} + \mb{I}_{\left(\dot{\cup}_{i=1}^n \typset\it{i}\right)^c} f(0)\]

Therefore,

\[\ex{f(\Xf\mb{I}_{\dot{\cup}_{i=1}^n \typset\it{i}})|\Xh\mb{I}_{\dot{\cup}_{i=1}^n \typset\it{i}}} \nearrow \ex{f(\Xf\mb{I}_{\dot{\cup}_{i=1}^\infty \typset\it{i}})|\Xh\mb{I}_{\dot{\cup}_{i=1}^\infty \typset\it{i}}} \te{ almost surely}\]

furthermore, 

\[(g(\Xg\mb{I}_{\dot{\cup}_{i=1}^n \typset\it{i}}),h(\Xh\mb{I}_{\dot{\cup}_{i=1}^n \typset\it{i}})) \nearrow (g(\Xg\mb{I}_{\dot{\cup}_{i=1}^\infty \typset\it{i}}),h(\Xh\mb{I}_{\dot{\cup}_{i=1}^\infty  \typset\it{i}})) \te{ almost surely}\]

By the monotone convergence theorem,

\begin{align*}
\lim_{n\ra\infty} \mb{E}\bigg[\ex{f(\Xf\mb{I}_{\dot{\cup}_{i=1}^n \typset\it{i}})|\Xh\mb{I}_{\dot{\cup}_{i=1}^n \typset\it{i}}}&g(\Xg\mb{I}_{\dot{\cup}_{i=1}^n \typset\it{i}})h(\Xh\mb{I}_{\dot{\cup}_{i=1}^n \typset\it{i}})\bigg]\\
& = \ex{\ex{f(\Xf\mb{I}_{\dot{\cup}_{i=1}^\infty \typset\it{i}})|\Xh\mb{I}_{\dot{\cup}_{i=1}^\infty \typset\it{i}}}g(\Xg\mb{I}_{\dot{\cup}_{i=1}^\infty \typset\it{i}})h(\Xh\mb{I}_{\dot{\cup}_{i=1}^\infty \typset\it{i}})}
\end{align*}

Similarly by monotone convergence,

\begin{align*}
\lim_{n\ra\infty} \mb{E}\bigg[f(\Xf\mb{I}_{\dot{\cup}_{i=1}^n \typset\it{i}})&g(\Xg\mb{I}_{\dot{\cup}_{i=1}^n \typset\it{i}})h(\Xh\mb{I}_{\dot{\cup}_{i=1}^n \typset\it{i}})\bigg] = \ex{f(\Xf\mb{I}_{\dot{\cup}_{i=1}^\infty \typset\it{i}})g(\Xg\mb{I}_{\dot{\cup}_{i=1}^\infty \typset\it{i}})h(\Xh\mb{I}_{\dot{\cup}_{i=1}^\infty \typset\it{i}})}
\end{align*}

So,

\begin{align*}
\mb{E}\bigg[\ex{f(\Xf\mb{I}_{\dot{\cup}_{i=1}^\infty \typset\it{i}})|\Xh\mb{I}_{\dot{\cup}_{i=1}^\infty \typset\it{i}}}&g(\Xg\mb{I}_{\dot{\cup}_{i=1}^\infty \typset\it{i}})h(\Xh\mb{I}_{\dot{\cup}_{i=1}^\infty \typset\it{i}})\bigg]\\
&= \lim_{n\ra\infty} \ex{\ex{f(\Xf\mb{I}_{\dot{\cup}_{i=1}^n \typset\it{i}})|\Xh\mb{I}_{\dot{\cup}_{i=1}^n \typset\it{i}}}g(\Xg\mb{I}_{\dot{\cup}_{i=1}^n \typset\it{i}})h(\Xh\mb{I}_{\dot{\cup}_{i=1}^n \typset\it{i}})}\\
&= \lim_{n\ra\infty} \ex{f(\Xf\mb{I}_{\dot{\cup}_{i=1}^n \typset\it{i}})g(\Xg\mb{I}_{\dot{\cup}_{i=1}^n \typset\it{i}})h(\Xh\mb{I}_{\dot{\cup}_{i=1}^n \typset\it{i}})}\\
&= \ex{f(\Xf\mb{I}_{\dot{\cup}_{i=1}^\infty \typset\it{i}})g(\Xg\mb{I}_{\dot{\cup}_{i=1}^\infty \typset\it{i}})h(\Xh\mb{I}_{\dot{\cup}_{i=1}^\infty \typset\it{i}})}
\end{align*}

By linearity, this also holds for all bounded and measurable \(f,g\) and \(h\) with no restrictions on \(f(0),g(0),h(0)\), so the proof is complete.

\item 

\begin{align*}
\mb{E}\bigg[\ex{f(\Xf\mb{I}_\typset)| \Xh\mb{I}_\typset}g(\mb{I}_\typset\Xh)&h(\mb{I}_\typset U)\bigg] = \ex{\mb{I}_\typset\ex{f(\Xf\mb{I}_\typset)|\Xh\mb{I}_\typset}g(\Xh\mb{I}_\typset)h(\mb{I}_\typset)} + f(0)g(0)h(0)\pr(\typset^c)\\
&=\frac{\ex{\mb{I}_\typset\ex{f(\Xf\mb{I}_\typset)|\Xh\mb{I}_\typset}g(\Xh\mb{I}_\typset)}\ex{\mb{I}_\typset h(U\mb{I}_\typset)}}{\pr(\typset)} + f(0)g(0)h(0)\pr(\typset^c)\\
&=\frac{\ex{\mb{I}_\typset f(\Xf\mb{I}_\typset)g(\Xh\mb{I}_\typset)}\ex{\mb{I}_\typset h(U\mb{I}_\typset)}}{\pr(\typset)} + f(0)g(0)h(0)\pr(\typset^c)\\
&=\ex{\mb{I}_\typset f(\Xf\mb{I}_\typset)g(\Xh\mb{I}_\typset)h(U\mb{I}_\typset)} + f(0)g(0)h(0)\pr(\typset^c)\\
&= \ex{f(\Xf\mb{I}_\typset)g(\Xh\mb{I}_\typset)h(U\mb{I}_\typset)}
\end{align*}

So \(\ex{f(\Xf\mb{I}_\typset|\Xh\mb{I}_\typset} = \ex{f(\Xf\mb{I}_\typset|\Xh\mb{I}_\typset,U\mb{I}_\typset}\). Then 

\begin{align*}
\ex{\ex{f(\Xf\mb{I}_\typset)|\Xh\mb{I}_\typset}g(\Xg\mb{I}_\typset)h(\Xh\mb{I}_\typset)} &= \ex{\ex{f(\Xf\mb{I}_\typset)|\mb{I}_\typset(\Xh,U)}g(\Xg\mb{I}_\typset)h(\Xh\mb{I}_\typset)}\\
&=\ex{f(\Xf\mb{I}_\typset)g(\Xg\mb{I}_\typset)h(\Xh\mb{I}_\typset)}
\end{align*}

\item 
\begin{align*}
\ex{\ex{f(\Xf)|\Xh}g(\Xg)h(\Xh)} &= \ex{\ex{f(\Xf\mb{I}_\typset)|\Xh\mb{I}_\typset}g(\Xg\mb{I}_\typset)h(\Xh\mb{I}_\typset)}\\
&= \ex{f(\Xf\mb{I}_\typset)g(\Xg\mb{I}_\typset)h(\Xh\mb{I}_\typset)} = \ex{f(\Xf)g(\Xg)h(\Xh)}
\end{align*}
\end{enumerate}
\end{proof}

\newpage
\bibliographystyle{plain}
\bibliography{weekly_refs}
\end{document}
